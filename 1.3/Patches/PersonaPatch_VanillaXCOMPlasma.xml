<?xml version="1.0" encoding="utf-8"?>
<!--
    ===== Vanilla XCOM Plasma Weapons =====

    == Range
    XCOM_Gun_BeamRifle_Bond = persona plasma rifle
    XCOM_Gun_BeamSniperRifle_Bond = persona plasma lance
    XCOM_Gun_BeamShotgun_Bond = persona storm gun
    XCOM_Gun_BeamCannon_Bond = persona beam cannon
    XCOM_Gun_BeamPistol_Bond = persona beam pistol
    XCOM_Gun_BeamVektor_Bond = persona shadow lance
    XCOM_Gun_BeamBullpup_Bond = persona Kal-90 bullpup
    XCOM_Gun_BeamAutopistol_Bond = persona beam autopistol
    XCOM_Gun_BeamHeavyAutocannon_Bond = persona uranium phase-cannon
-->
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Vanilla XCOM Plasma Weapons</li>
        </mods>

        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <ThingDef Name="MPBFPM_BasePlasma" ParentName="MPBFPM_BaseBullet" Abstract="True">
                            <thingClass>VanillaXCOMBeamWeapons.Bullet_Beam</thingClass>
                            <label>plasma beam</label>
                            <graphicData>
                                <texPath>UI/Overlays/ThickLine</texPath>
                                <color>(150, 230, 200)</color>
                                <drawSize>(0.2, 0.5)</drawSize>
                            </graphicData>
                            <projectile>
                                <damageDef>XCOM_Plasma</damageDef>
                                <!-- <armorPenetrationBase>0.45</armorPenetrationBase> Handled by the game -->
                                <speed>120</speed>                                <!-- how fast the beam fades away -->
                            </projectile>
                        </ThingDef>

                        <!-- XCOM_Gun_BeamRifle_Bond -->
                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun">
                            <defName>XCOM_Gun_BeamRifle_Bond</defName>
                            <label>persona plasma rifle</label>
                            <description>The plasma rifle is a general purpose, supremely powerful primary infantry weapon system.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <weaponTags>
                                <li>UltraGun</li>
                                <li>Plasma</li>
                            </weaponTags>
                            <weaponClasses>
                                <li>RangedLight</li>
                            </weaponClasses>
                            <techLevel>Ultra</techLevel>
                            <graphicData>
                                <texPath>Beam_Rifle</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                                <drawSize>1.1</drawSize>
                            </graphicData>
                            <soundInteract>Interact_ChargeRifle</soundInteract>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <soundAiming>Beam_WarmupRifle</soundAiming>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>XCOM_Bullet_BeamRifle_Bond</defaultProjectile>
                                    <soundCast>Beam_Rifle</soundCast>
                                    <soundCastTail>GunTail_Light</soundCastTail>
                                    <range>27.9</range>
                                    <warmupTime>1.275</warmupTime>
                                </li>
                            </verbs>
                            <statBases>
                                <RangedWeapon_Cooldown>2.2</RangedWeapon_Cooldown>
                                <AccuracyTouch>0.66</AccuracyTouch>
                                <AccuracyShort>0.825</AccuracyShort>
                                <AccuracyMedium>0.748</AccuracyMedium>
                                <AccuracyLong>0.66</AccuracyLong>
                                <Mass>5</Mass>
                            </statBases>
                            <tools>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BasePlasma">
                            <defName>XCOM_Bullet_BeamRifle_Bond</defName>
                            <projectile>
                                <damageAmountBase>31</damageAmountBase>
                                <stoppingPower>1</stoppingPower>
                            </projectile>
                        </ThingDef>

                        <!-- XCOM_Gun_BeamSniperRifle_Bond -->
                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun">
                            <defName>XCOM_Gun_BeamSniperRifle_Bond</defName>
                            <label>persona plasma lance</label>
                            <description>This is the apex of sniper rifle technology.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>Beam_Sniper</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                                <drawSize>1.3</drawSize>
                                <drawOffsetSouth>(0.0, 0.0, -0.05)</drawOffsetSouth>
                                <drawOffsetWest>(-0.25, 0.0, 0.05)</drawOffsetWest>
                                <drawOffsetEast>(0.25, 0.0, 0.05)</drawOffsetEast>
                            </graphicData>
                            <soundInteract>Interact_ChargeRifle</soundInteract>
                            <weaponTags>
                                <li>UltraGun</li>
                                <li>Plasma</li>
                                <li>SniperRifle</li>
                            </weaponTags>
                            <weaponClasses>
                                <li>LongShots</li>
                                <li>RangedHeavy</li>
                            </weaponClasses>
                            <techLevel>Ultra</techLevel>
                            <statBases>
                                <Mass>8</Mass>
                                <AccuracyTouch>0.66</AccuracyTouch>
                                <AccuracyShort>0.825</AccuracyShort>
                                <AccuracyMedium>0.99</AccuracyMedium>
                                <AccuracyLong>1.045</AccuracyLong>
                                <RangedWeapon_Cooldown>3.3</RangedWeapon_Cooldown>
                            </statBases>
                            <equippedAngleOffset>40</equippedAngleOffset>
                            <equippedStatOffsets>
                                <MoveSpeed>-0.2</MoveSpeed>                                <!-- drawback -->
                            </equippedStatOffsets>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <soundAiming>Beam_WarmupSniperRifle</soundAiming>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>XCOM_Bullet_BeamSniperRifle_Bond</defaultProjectile>
                                    <warmupTime>2.975</warmupTime>
                                    <range>45.9</range>
                                    <soundCast>Beam_SniperRifle</soundCast>
                                    <soundCastTail>GunTail_Heavy</soundCastTail>
                                    <muzzleFlashScale>9</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>12.1</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BasePlasma">
                            <defName>XCOM_Bullet_BeamSniperRifle_Bond</defName>
                            <projectile>
                                <damageAmountBase>55</damageAmountBase>                                <!-- kinda overkill -->
                                <stoppingPower>2</stoppingPower>
                                <speed>180</speed>
                            </projectile>
                        </ThingDef>

                        <!-- XCOM_Gun_BeamShotgun_Bond -->
                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun">
                            <defName>XCOM_Gun_BeamShotgun_Bond</defName>
                            <label>persona storm gun</label>
                            <description>The storm gun fires a concentrated set of beam pulses, piercing and melting the target across a substantial surface area.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>Beam_Shotgun</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <soundInteract>Interact_ChargeRifle</soundInteract>
                            <weaponTags>
                                <li>UltraGun</li>
                                <li>Plasma</li>
                            </weaponTags>
                            <weaponClasses>
                                <li>ShortShots</li>
                            </weaponClasses>
                            <techLevel>Ultra</techLevel>
                            <statBases>
                                <Mass>4</Mass>
                                <AccuracyTouch>1.045</AccuracyTouch>
                                <AccuracyShort>0.99</AccuracyShort>
                                <AccuracyMedium>0.825</AccuracyMedium>
                                <AccuracyLong>0.55</AccuracyLong>
                                <RangedWeapon_Cooldown>2.2</RangedWeapon_Cooldown>
                            </statBases>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <soundAiming>Beam_WarmupShotgun</soundAiming>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>XCOM_Bullet_BeamShotgun_Bond</defaultProjectile>
                                    <warmupTime>0.85</warmupTime>
                                    <range>19.9</range>
                                    <soundCast>Beam_Shotgun</soundCast>
                                    <soundCastTail>GunTail_Heavy</soundCastTail>
                                    <muzzleFlashScale>9</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>13.2</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BasePlasma">
                            <defName>XCOM_Bullet_BeamShotgun_Bond</defName>
                            <projectile>
                                <damageAmountBase>35</damageAmountBase>
                                <stoppingPower>3</stoppingPower>
                            </projectile>
                        </ThingDef>

                        <!-- XCOM_Gun_BeamCannon_Bond -->
                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun">
                            <defName>XCOM_Gun_BeamCannon_Bond</defName>
                            <label>persona beam cannon</label>
                            <description>The beam cannon is the most powerful combat support weapon on the Rim.\nDevising a more powerful, high-volume beam weapon for our soldiers required substantial effort, but the firepower it brings is unquestioned.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>Beam_Cannon</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                                <drawSize>1.35</drawSize>
                                <drawOffsetSouth>(0.0, 0.0, -0.05)</drawOffsetSouth>
                                <drawOffsetWest>(0.0, 0.0, -0.05)</drawOffsetWest>
                                <drawOffsetEast>(0.0, 0.0, -0.05)</drawOffsetEast>
                            </graphicData>
                            <soundInteract>Interact_ChargeRifle</soundInteract>
                            <weaponTags>
                                <li>UltraGun</li>
                                <li>Plasma</li>
                                <li>GunHeavy</li>
                            </weaponTags>
                            <weaponClasses>
                                <li>RangedHeavy</li>
                            </weaponClasses>
                            <techLevel>Ultra</techLevel>
                            <statBases>
                                <Mass>14</Mass>
                                <AccuracyTouch>0.242</AccuracyTouch>
                                <AccuracyShort>0.352</AccuracyShort>
                                <AccuracyMedium>0.352</AccuracyMedium>
                                <AccuracyLong>0.22</AccuracyLong>
                                <RangedWeapon_Cooldown>3.3</RangedWeapon_Cooldown>
                            </statBases>
                            <equippedStatOffsets>
                                <MoveSpeed>-0.3</MoveSpeed>
                            </equippedStatOffsets>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <soundAiming>Beam_WarmupCannon</soundAiming>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>XCOM_Bullet_BeamCannon_Bond</defaultProjectile>
                                    <warmupTime>2.125</warmupTime>
                                    <range>34.9</range>
                                    <burstShotCount>30</burstShotCount>
                                    <ticksBetweenBurstShots>6</ticksBetweenBurstShots>
                                    <soundCast>Beam_Cannon</soundCast>
                                    <soundCastTail>GunTail_Medium</soundCastTail>
                                    <muzzleFlashScale>9</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>barrels</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>13.2</power>
                                    <cooldownTime>2.55</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BasePlasma">
                            <defName>XCOM_Bullet_BeamCannon_Bond</defName>
                            <projectile>
                                <damageAmountBase>13</damageAmountBase>
                                <stoppingPower>0.75</stoppingPower>
                                <speed>50</speed>
                            </projectile>
                        </ThingDef>

                        <!-- XCOM_Gun_BeamPistol_Bond -->
                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun">
                            <defName>XCOM_Gun_BeamPistol_Bond</defName>
                            <label>persona beam pistol</label>
                            <description>The ultimate sidearm, this pistol integrates the beam weapons technology to powerful effect.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>Beam_Pistol</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                                <drawSize>0.9</drawSize>
                            </graphicData>
                            <uiIconScale>1.5</uiIconScale>
                            <soundInteract>Interact_ChargeRifle</soundInteract>
                            <statBases>
                                <Mass>3</Mass>
                                <AccuracyTouch>0.99</AccuracyTouch>
                                <AccuracyShort>0.935</AccuracyShort>
                                <AccuracyMedium>0.66</AccuracyMedium>
                                <AccuracyLong>0.55</AccuracyLong>
                                <RangedWeapon_Cooldown>2.2</RangedWeapon_Cooldown>
                            </statBases>
                            <weaponTags>
                                <li>UltraGun</li>
                                <li>Plasma</li>
                            </weaponTags>
                            <weaponClasses>
                                <li>RangedLight</li>
                            </weaponClasses>
                            <techLevel>Ultra</techLevel>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <soundAiming>Beam_WarmupPistol</soundAiming>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>XCOM_Bullet_Beam_Pistol_Bond</defaultProjectile>
                                    <warmupTime>0.68</warmupTime>
                                    <range>28.9</range>
                                    <soundCast>Beam_Pistol</soundCast>
                                    <soundCastTail>GunTail_Light</soundCastTail>
                                    <muzzleFlashScale>9</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>grip</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BasePlasma">
                            <defName>XCOM_Bullet_Beam_Pistol_Bond</defName>
                            <projectile>
                                <damageAmountBase>22</damageAmountBase>
                                <stoppingPower>1</stoppingPower>
                            </projectile>
                        </ThingDef>

                        <!-- XCOM_Gun_BeamVektor_Bond -->
                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun">
                            <defName>XCOM_Gun_BeamVektor_Bond</defName>
                            <label>persona shadow lance</label>
                            <description>The energy-based Vektor rifle is without question superior to any past variant ever wielded.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>Beam_Vektor</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                                <drawSize>1.3</drawSize>
                                <drawOffsetSouth>(0.0, 0.0, -0.05)</drawOffsetSouth>
                                <drawOffsetWest>(-0.2, 0.0, 0.05)</drawOffsetWest>
                                <drawOffsetEast>(0.2, 0.0, 0.05)</drawOffsetEast>
                            </graphicData>
                            <soundInteract>Interact_ChargeRifle</soundInteract>
                            <statBases>
                                <Mass>5</Mass>
                                <AccuracyTouch>0.77</AccuracyTouch>
                                <AccuracyShort>0.88</AccuracyShort>
                                <AccuracyMedium>0.99</AccuracyMedium>
                                <AccuracyLong>0.99</AccuracyLong>
                                <RangedWeapon_Cooldown>2.75</RangedWeapon_Cooldown>
                            </statBases>
                            <weaponTags>
                                <li>UltraGun</li>
                                <li>Plasma</li>
                                <li>SniperRifle</li>
                            </weaponTags>
                            <techLevel>Ultra</techLevel>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>XCOM_Bullet_Beam_Vektor_Bond</defaultProjectile>
                                    <warmupTime>2.55</warmupTime>
                                    <range>42.9</range>
                                    <soundCast>Beam_Vektor</soundCast>
                                    <soundCastTail>GunTail_Light</soundCastTail>
                                    <muzzleFlashScale>9</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>grip</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>12.1</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>12.1</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BasePlasma">
                            <defName>XCOM_Bullet_Beam_Vektor_Bond</defName>
                            <projectile>
                                <damageAmountBase>35</damageAmountBase>
                                <stoppingPower>1</stoppingPower>
                                <speed>160</speed>
                            </projectile>
                        </ThingDef>

                        <!-- XCOM_Gun_BeamBullpup_Bond -->
                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun">
                            <defName>XCOM_Gun_BeamBullpup_Bond</defName>
                            <label>persona Kal-90 bullpup</label>
                            <description>An energy-based rifle in bullpup configuration, the scattered beam delivered by this modified variant is among the more advanced technology in use by their forces. While more elegant and perhaps less visceral than the projectile version, it is no less damaging in combat.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>Beam_Bullpup</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <soundInteract>Interact_ChargeRifle</soundInteract>
                            <statBases>
                                <Mass>5</Mass>
                                <AccuracyTouch>1.045</AccuracyTouch>
                                <AccuracyShort>0.88</AccuracyShort>
                                <AccuracyMedium>0.495</AccuracyMedium>
                                <AccuracyLong>0.33</AccuracyLong>
                                <RangedWeapon_Cooldown>1.65</RangedWeapon_Cooldown>
                            </statBases>
                            <weaponTags>
                                <li>UltraGun</li>
                                <li>Plasma</li>
                            </weaponTags>
                            <weaponClasses>
                                <li>ShortShots</li>
                                <li>RangedHeavy</li>
                            </weaponClasses>
                            <techLevel>Ultra</techLevel>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <soundAiming>Beam_WarmupRifle</soundAiming>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>XCOM_Bullet_Beam_Bullpup_Bond</defaultProjectile>
                                    <warmupTime>1.488</warmupTime>
                                    <range>27.9</range>
                                    <burstShotCount>6</burstShotCount>
                                    <ticksBetweenBurstShots>6</ticksBetweenBurstShots>
                                    <soundCast>Beam_Bullpup</soundCast>
                                    <soundCastTail>GunTail_Light</soundCastTail>
                                    <muzzleFlashScale>9</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>grip</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>12.1</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BasePlasma">
                            <defName>XCOM_Bullet_Beam_Bullpup_Bond</defName>
                            <projectile>
                                <damageAmountBase>13</damageAmountBase>
                                <stoppingPower>1</stoppingPower>
                                <speed>80</speed>
                            </projectile>
                        </ThingDef>

                        <!-- XCOM_Gun_BeamAutopistol_Bond -->
                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun">
                            <defName>XCOM_Gun_BeamAutopistol_Bond</defName>
                            <label>persona beam autopistol</label>
                            <description>This variant of the autopistol is one of the more impressive in effort to reduce the size of portable uranium cells. Now fully-powered, the weapon delivers focused pulses of energy capable of inflicting severe damage to all but the most heavily armored targets.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>Beam_Autopistol</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <uiIconScale>1.25</uiIconScale>
                            <soundInteract>Interact_ChargeRifle</soundInteract>
                            <statBases>
                                <Mass>3</Mass>
                                <AccuracyTouch>0.99</AccuracyTouch>
                                <AccuracyShort>0.858</AccuracyShort>
                                <AccuracyMedium>0.495</AccuracyMedium>
                                <AccuracyLong>0.308</AccuracyLong>
                                <RangedWeapon_Cooldown>1.925</RangedWeapon_Cooldown>
                            </statBases>
                            <weaponTags>
                                <li>UltraGun</li>
                                <li>Plasma</li>
                            </weaponTags>
                            <weaponClasses>
                                <li>RangedLight</li>
                            </weaponClasses>
                            <techLevel>Ultra</techLevel>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <soundAiming>Beam_WarmupAutopistol</soundAiming>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>XCOM_Bullet_Beam_Autopistol_Bond</defaultProjectile>
                                    <warmupTime>0.765</warmupTime>
                                    <range>29.9</range>
                                    <burstShotCount>5</burstShotCount>
                                    <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
                                    <soundCast>Beam_Autopistol</soundCast>
                                    <soundCastTail>GunTail_Light</soundCastTail>
                                    <muzzleFlashScale>9</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>grip</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BasePlasma">
                            <defName>XCOM_Bullet_Beam_Autopistol_Bond</defName>
                            <projectile>
                                <damageAmountBase>10</damageAmountBase>
                                <stoppingPower>0.75</stoppingPower>
                            </projectile>
                        </ThingDef>

                        <!-- XCOM_Gun_BeamHeavyAutocannon_Bond -->
                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun">
                            <defName>XCOM_Gun_BeamHeavyAutocannon_Bond</defName>
                            <label>persona uranium phase-cannon</label>
                            <description>A powerful but physically-heavy cannon designed specifically for use by SPARK units.\nThe addition of miniaturized uranium power cell provides the greatest possible firepower in combat.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>Beam_Autocannon</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                                <drawSize>1.5</drawSize>
                                <drawOffsetSouth>(0, 0, -0.1)</drawOffsetSouth>
                                <drawOffsetWest>(-0.05, 0, -0.1)</drawOffsetWest>
                                <drawOffsetEast>(0.05, 0, -0.1)</drawOffsetEast>
                                <drawOffsetNorth>(0.1, 0, 0)</drawOffsetNorth>
                            </graphicData>
                            <soundInteract>Interact_ChargeRifle</soundInteract>
                            <weaponClasses>
                                <li>ShortShots</li>
                                <li>RangedHeavy</li>
                            </weaponClasses>
                            <statBases>
                                <Mass>16</Mass>
                                <AccuracyTouch>0.88</AccuracyTouch>
                                <AccuracyShort>0.66</AccuracyShort>
                                <AccuracyMedium>0.462</AccuracyMedium>
                                <AccuracyLong>0.308</AccuracyLong>
                                <RangedWeapon_Cooldown>3.85</RangedWeapon_Cooldown>
                            </statBases>
                            <equippedStatOffsets>
                                <MoveSpeed>-0.75</MoveSpeed>
                            </equippedStatOffsets>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <soundAiming>Beam_WarmupAutocannon</soundAiming>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>XCOM_Bullet_BeamHeavyAutocannon_Bond</defaultProjectile>
                                    <warmupTime>2.125</warmupTime>
                                    <range>25.9</range>
                                    <burstShotCount>15</burstShotCount>
                                    <ticksBetweenBurstShots>6</ticksBetweenBurstShots>
                                    <soundCast>Beam_HeavyAutocannon</soundCast>
                                    <soundCastTail>GunTail_Heavy</soundCastTail>
                                    <muzzleFlashScale>12</muzzleFlashScale>
                                </li>
                            </verbs>
                            <weaponTags>
                                <li>UltraGun</li>
                                <li>Plasma</li>
                            </weaponTags>
                            <techLevel>Ultra</techLevel>
                            <tools>
                                <li>
                                    <label>grip</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>13.2</power>
                                    <cooldownTime>3.4</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>13.2</power>
                                    <cooldownTime>3.4</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BasePlasma">
                            <defName>XCOM_Bullet_BeamHeavyAutocannon_Bond</defName>
                            <label>uranium phase-cannon beam</label>
                            <projectile>
                                <damageAmountBase>16</damageAmountBase>
                                <stoppingPower>1</stoppingPower>
                                <speed>60</speed>
                            </projectile>
                        </ThingDef>
                    </value>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>