<?xml version="1.0" encoding="utf-8"?>
<!--
    ===== Advanced Laser Weapons =====
-->
<Patch>
    <Operation Class="XmlExtensions.FindMod">
        <mods>
            <li>cesarling.advancedlaserweapons</li>
        </mods>
        <packageId>true</packageId>

        <caseTrue>
            <Operation Class="XmlExtensions.PatchOperationAdd">
                <xpath>Defs</xpath>
                <value>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="ALW_LaserBlaster_Bond" Abstract="True">
                        <label>persona LaserBlaster</label>
                        <description>A pulse-charged rail-assisted lance weapon. It fires a three shots at high velocity, charging it with unstable energy as it leaves the acceleration rail.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Things/Real/ScifiGun1</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <soundInteract>Interact_ChargeLance</soundInteract>
                        <statBases>
                            <Mass>10</Mass>
                            <AccuracyTouch>0.786</AccuracyTouch>
                            <AccuracyShort>1.028</AccuracyShort>
                            <AccuracyMedium>1.028</AccuracyMedium>
                            <AccuracyLong>1.149</AccuracyLong>
                            <RangedWeapon_Cooldown>1.951</RangedWeapon_Cooldown>
                        </statBases>
                        <weaponTags>
                            <li>SpacerGun</li>
                        </weaponTags>
                        <tradeTags>
                            <li>WeaponRanged</li>
                            <li>Exotic</li>
                        </tradeTags>
                        <weaponClasses>
                            <li>RangedHeavy</li>
                        </weaponClasses>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>VPE_LaserBlast_Bond</defaultProjectile>
                                <warmupTime>2.7</warmupTime>
                                <range>25.2</range>
                                <burstShotCount>3</burstShotCount>
                                <ticksBetweenBurstShots>15</ticksBetweenBurstShots>
                                <soundCast>Shot_LaserBlaster</soundCast>
                                <muzzleFlashScale>9</muzzleFlashScale>
                                <forcedMissRadius>2</forcedMissRadius>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>9.75</power>
                                <cooldownTime>1.7</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="ALW_ChainBeam_Bond" Abstract="True">
                        <label>persona ChainBeam</label>
                        <description>A futuristic laser weapon firing three beams that unleash chain lightning, wreaking havoc on distant enemies with relentless energy.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Things/Real/Starcraft2MarineGun</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <soundInteract>Interact_ChargeLance</soundInteract>
                        <statBases>
                            <Mass>10</Mass>
                            <AccuracyTouch>0.786</AccuracyTouch>
                            <AccuracyShort>0.786</AccuracyShort>
                            <AccuracyMedium>0.907</AccuracyMedium>
                            <AccuracyLong>0.786</AccuracyLong>
                            <RangedWeapon_Cooldown>2.89</RangedWeapon_Cooldown>
                        </statBases>
                        <weaponTags>
                            <li>SpacerGun</li>
                        </weaponTags>
                        <tradeTags>
                            <li>WeaponRanged</li>
                            <li>Exotic</li>
                        </tradeTags>
                        <weaponClasses>
                            <li>RangedHeavy</li>
                        </weaponClasses>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>ChainBeam_Bond</defaultProjectile>
                                <warmupTime>3</warmupTime>
                                <range>35.6</range>
                                <burstShotCount>1</burstShotCount>
                                <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
                                <soundCast>Shot_ChargedLaser</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>14</muzzleFlashScale>
                                <forcedMissRadius>0</forcedMissRadius>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>9.75</power>
                                <cooldownTime>1.7</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="ALW_ChainBoomer_Bond" Abstract="True">
                        <label>persona ChainBoomer</label>
                        <description>Firing three electrifying lasers with chain lightning, this not only inflicts relentless damage to distant foes but also culminates in explosive annihilation upon impact.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Things/Real/ScifiGun4</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                            <drawSize>(1.8, 1.8)</drawSize>
                        </graphicData>
                        <soundInteract>Interact_ChargeLance</soundInteract>
                        <statBases>
                            <Mass>10</Mass>
                            <AccuracyTouch>0.303</AccuracyTouch>
                            <AccuracyShort>0.423</AccuracyShort>
                            <AccuracyMedium>0.544</AccuracyMedium>
                            <AccuracyLong>0.363</AccuracyLong>
                            <RangedWeapon_Cooldown>1.445</RangedWeapon_Cooldown>
                        </statBases>
                        <weaponTags>
                            <li>SpacerGun</li>
                        </weaponTags>
                        <tradeTags>
                            <li>WeaponRanged</li>
                            <li>Exotic</li>
                        </tradeTags>
                        <weaponClasses>
                            <li>Ranged</li>
                        </weaponClasses>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>ChainBoom_Bond</defaultProjectile>
                                <warmupTime>2</warmupTime>
                                <range>35.2</range>
                                <burstShotCount>7</burstShotCount>
                                <ticksBetweenBurstShots>35</ticksBetweenBurstShots>
                                <soundCast>Shot_ChainBoomer</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>9</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>9.75</power>
                                <cooldownTime>1.7</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="ALW_SolarScorchCannon_Bond" Abstract="True">
                        <label>persona Solar Scorch Cannon</label>
                        <description>With each shot, the incendiary shell of this futuristic firearm erupts into a mesmerizing giant fireball, harnessing the power of a miniature sun.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <tickerType>Normal</tickerType>
                        <graphicData>
                            <texPath>Things/Real/ScifiGun2</texPath>
                            <drawSize>(1.8, 1.8)</drawSize>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <soundInteract>Shot_SolarScorchCannon</soundInteract>
                        <statBases>
                            <Mass>20</Mass>
                            <AccuracyTouch>1.149</AccuracyTouch>
                            <AccuracyShort>1.028</AccuracyShort>
                            <AccuracyMedium>0.665</AccuracyMedium>
                            <AccuracyLong>0.303</AccuracyLong>
                            <RangedWeapon_Cooldown>0.361</RangedWeapon_Cooldown>
                        </statBases>
                        <weaponTags>
                            <li>SpacerGun</li>
                        </weaponTags>
                        <tradeTags>
                            <li>WeaponRanged</li>
                            <li>Exotic</li>
                        </tradeTags>
                        <weaponClasses>
                            <li>RangedHeavy</li>
                        </weaponClasses>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_SolarScorchCannon_Bond</defaultProjectile>
                                <warmupTime>7.5</warmupTime>
                                <range>18.9</range>
                                <muzzleFlashScale>9</muzzleFlashScale>
                                <ai_AvoidFriendlyFireRadius>6</ai_AvoidFriendlyFireRadius>
                                <ai_RangedAlawaysShootGroundBelowTarget>true</ai_RangedAlawaysShootGroundBelowTarget>
                                <ai_ProjectileLaunchingIgnoresMeleeThreats>true</ai_ProjectileLaunchingIgnoresMeleeThreats>
                                <ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
                                <ai_TargetHasRangedAttackScoreOffset>50</ai_TargetHasRangedAttackScoreOffset>
                                <minRange>5.9</minRange>
                                <targetParams>
                                    <canTargetLocations>true</canTargetLocations>
                                    <canTargetPawns>false</canTargetPawns>
                                </targetParams>
                                <burstShotCount>1</burstShotCount>
                                <ticksBetweenBurstShots>45</ticksBetweenBurstShots>
                                <beamTargetsGround>true</beamTargetsGround>
                                <canGoWild>false</canGoWild>
                                <soundCast>Shot_SolarScorchCannon</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>12.866</power>
                                <cooldownTime>1.7</cooldownTime>
                            </li>
                        </tools>
                        <comps>
                            <li Class="CompProperties_Explosive">
                                <explosiveRadius>8.66</explosiveRadius>
                                <explosiveDamageType>Flame</explosiveDamageType>
                                <requiredDamageTypeToExplode>Flame</requiredDamageTypeToExplode>
                            </li>
                            <li Class="MVCF.Comps.CompProperties_VerbProps">
                                <compClass>MVCF.Comps.Comp_VerbProps</compClass>
                                <verbProps>
                                    <li>
                                        <label>persona Solar Scorch Cannon</label>
                                        <canBeToggled>false</canBeToggled>
                                        <comps>
                                            <li Class="MVCF.Reloading.Comps.VerbCompProperties_Reloadable">
                                                <compClass>MVCF.Reloading.Comps.VerbComp_Reloadable</compClass>
                                                <MaxShots>36</MaxShots>
                                                <AmmoFilter>
                                                    <thingDefs>
                                                        <li>Shell_Incendiary</li>
                                                    </thingDefs>
                                                </AmmoFilter>
                                                <ItemsPerShot>3</ItemsPerShot>
                                                <ReloadTimePerShot>0.3</ReloadTimePerShot>
                                                <ReloadSound>Interact_Rifle</ReloadSound>
                                                <StartLoaded>true</StartLoaded>
                                            </li>
                                        </comps>
                                    </li>
                                </verbProps>
                            </li>
                        </comps>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="ALW_PhotonModulator_Bond" Abstract="True">
                        <label>persona Photon Modulator</label>
                        <description>A cutting-edge firearm with laser tech that adapts projectiles instantly based on target distance, ensuring precision from energy bursts to high-velocity shots.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Things/Real/ScifiGun3</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                            <drawSize>(0.8, 0.8)</drawSize>
                        </graphicData>
                        <soundInteract>Interact_ChargeRifle</soundInteract>
                        <statBases>
                            <Mass>4.6</Mass>
                            <AccuracyTouch>0.665</AccuracyTouch>
                            <AccuracyShort>0.774</AccuracyShort>
                            <AccuracyMedium>0.665</AccuracyMedium>
                            <AccuracyLong>0.544</AccuracyLong>
                            <RangedWeapon_Cooldown>2.89</RangedWeapon_Cooldown>
                        </statBases>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>PhotonModulatorUltraLongRange_Bond</defaultProjectile>
                                <warmupTime>0.1</warmupTime>
                                <range>50</range>
                                <minRange>40</minRange>
                                <soundCast>Shot_PhotonModulator</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>15</muzzleFlashScale>
                                <forcedMissRadius>0.1</forcedMissRadius>
                                <label>Ultra-Long Range</label>
                            </li>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>PhotonModulatorLongRange_Bond</defaultProjectile>
                                <warmupTime>0.1</warmupTime>
                                <range>39.99</range>
                                <minRange>30</minRange>
                                <ticksBetweenBurstShots>15</ticksBetweenBurstShots>
                                <burstShotCount>5</burstShotCount>
                                <soundCast>Shot_PhotonModulator</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>9</muzzleFlashScale>
                                <forcedMissRadius>0.1</forcedMissRadius>
                                <label>Long Range</label>
                            </li>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>PhotonModulatorMediumRange_Bond</defaultProjectile>
                                <warmupTime>0.1</warmupTime>
                                <range>29.99</range>
                                <minRange>10</minRange>
                                <ticksBetweenBurstShots>20</ticksBetweenBurstShots>
                                <burstShotCount>10</burstShotCount>
                                <soundCast>Shot_PhotonModulator</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>9</muzzleFlashScale>
                                <forcedMissRadius>0.1</forcedMissRadius>
                                <label>Medium Range</label>
                            </li>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>PhotonModulatorShortRange_Bond</defaultProjectile>
                                <warmupTime>0.1</warmupTime>
                                <range>9.99</range>
                                <minRange>5</minRange>
                                <ticksBetweenBurstShots>30</ticksBetweenBurstShots>
                                <burstShotCount>15</burstShotCount>
                                <soundCast>Shot_PhotonModulator</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>9</muzzleFlashScale>
                                <forcedMissRadius>0.1</forcedMissRadius>
                                <label>Short Range</label>
                            </li>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>PhotonModulatorAlmostMeleeRange_Bond</defaultProjectile>
                                <warmupTime>0.1</warmupTime>
                                <range>4.99</range>
                                <ticksBetweenBurstShots>10</ticksBetweenBurstShots>
                                <burstShotCount>40</burstShotCount>
                                <soundCast>Shot_PhotonModulator</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>9</muzzleFlashScale>
                                <forcedMissRadius>0.1</forcedMissRadius>
                                <label>Almost Melee Range</label>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>Laser Slash</label>
                                <capacities>
                                    <li>Cut</li>
                                </capacities>
                                <power>51.768</power>
                                <cooldownTime>4.25</cooldownTime>
                            </li>
                        </tools>
                        <comps Inherit="False">
                            <li Class="CompProperties_Forbiddable" />
                            <li Class="CompProperties_Styleable" />
                            <li Class="MVCF.Comps.CompProperties_VerbProps">
                                <compClass>CompEquippable</compClass>
                                <verbProps>
                                    <li>
                                        <label>Almost Melee Range</label>
                                        <canBeToggled>true</canBeToggled>
                                        <canFireIndependently>false</canFireIndependently>
                                    </li>
                                    <li>
                                        <label>Short Range</label>
                                        <canBeToggled>true</canBeToggled>
                                        <canFireIndependently>false</canFireIndependently>
                                    </li>
                                    <li>
                                        <label>Medium Range</label>
                                        <canBeToggled>true</canBeToggled>
                                        <canFireIndependently>false</canFireIndependently>
                                    </li>
                                    <li>
                                        <label>Long Range</label>
                                        <canBeToggled>true</canBeToggled>
                                        <canFireIndependently>false</canFireIndependently>
                                    </li>
                                    <li>
                                        <label>Ultra-Long Range</label>
                                        <canBeToggled>true</canBeToggled>
                                        <canFireIndependently>false</canFireIndependently>
                                    </li>
                                </verbProps>
                            </li>
                        </comps>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBullet" Name="MPBFPM_BaseBeam" Abstract="True">
                        <defName>BaseBeam</defName>
                        <label>Base beam</label>
                        <thingClass>VFECore.BeamProjectile</thingClass>
                        <drawOffscreen>true</drawOffscreen>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBeam" Name="VPE_LaserBlast_Bond" Abstract="True">
                        <label>Laser blast</label>
                        <graphicData>
                            <texPath>Effects/LaserBlastBeam</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                            <shaderType>TransparentPostLight</shaderType>
                        </graphicData>
                        <projectile>
                            <damageDef>LaserBlast</damageDef>
                            <speed>1000</speed>
                            <ai_IsIncendiary>false</ai_IsIncendiary>
                            <damageAmountBase>19</damageAmountBase>
                            <explosionRadius>2</explosionRadius>
                            <soundExplode>Explosion_EMP_Quiet</soundExplode>
                        </projectile>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBeam" Name="ChainBeam_Bond" Abstract="True">
                        <label>chain Beam</label>
                        <thingClass>VFEMech.TeslaProjectile</thingClass>
                        <drawOffscreen>true</drawOffscreen>
                        <graphicData>
                            <texPath>Effects/Red_Laser</texPath>
                            <shaderType>MoteGlow</shaderType>
                            <graphicClass>Graphic_Flicker</graphicClass>
                            <drawSize>(0.1, 0.5)</drawSize>
                        </graphicData>
                        <projectile>
                            <damageDef>LaserBlast</damageDef>
                            <damageAmountBase>2</damageAmountBase>
                            <explosionRadius>2</explosionRadius>
                            <speed>700</speed>
                            <ai_IsIncendiary>false</ai_IsIncendiary>
                        </projectile>
                        <modExtensions>
                            <li Class="VFEMech.TeslaChainingProps">
                                <maxBounceCount>2000</maxBounceCount>
                                <damageDef>LaserBlast</damageDef>
                                <targetFriendly>false</targetFriendly>
                                <addFire>false</addFire>
                                <bounceRange>20</bounceRange>
                                <maxLifetime>10</maxLifetime>
                                <impactSound>Explosion_EMP_Quiet</impactSound>
                            </li>
                            <li Class="VFECore.ProjectileExtension">
                                <flashIntensity>1</flashIntensity>
                                <hitFleck>LaserBlast_Fleck</hitFleck>
                            </li>
                        </modExtensions>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBeam" Name="ChainBoom_Bond" Abstract="True">
                        <label>chain Boom</label>
                        <thingClass>VFEMech.TeslaProjectile</thingClass>
                        <drawOffscreen>true</drawOffscreen>
                        <graphicData>
                            <texPath>Effects/Red_Laser</texPath>
                            <shaderType>MoteGlow</shaderType>
                            <graphicClass>Graphic_Flicker</graphicClass>
                            <drawSize>(0.1, 0.5)</drawSize>
                        </graphicData>
                        <projectile>
                            <damageDef>LaserBlast</damageDef>
                            <damageAmountBase>2</damageAmountBase>
                            <explosionRadius>2</explosionRadius>
                            <speed>700</speed>
                            <ai_IsIncendiary>false</ai_IsIncendiary>
                        </projectile>
                        <modExtensions>
                            <li Class="VFEMech.TeslaChainingProps">
                                <maxBounceCount>3</maxBounceCount>
                                <damageDef>EMP</damageDef>
                                <explosionDamageDef>LaserBlast</explosionDamageDef>
                                <impactRadius>2</impactRadius>
                                <targetFriendly>false</targetFriendly>
                                <addFire>false</addFire>
                                <bounceRange>5</bounceRange>
                                <maxLifetime>1</maxLifetime>
                                <impactSound>Explosion_EMP_Quiet</impactSound>
                            </li>
                            <li Class="VFECore.ProjectileExtension">
                                <flashIntensity>1</flashIntensity>
                                <hitFleck>LaserBlast_Fleck</hitFleck>
                            </li>
                        </modExtensions>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBeam" Name="PhotonModulatorUltraLongRange_Bond" Abstract="True">
                        <label>Photon Modulator Ultra Long Range</label>
                        <graphicData>
                            <texPath>Effects/LaserBeam1</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                            <shaderType>TransparentPostLight</shaderType>
                        </graphicData>
                        <projectile>
                            <damageDef>LaserBlast</damageDef>
                            <speed>1000</speed>
                            <ai_IsIncendiary>false</ai_IsIncendiary>
                            <damageAmountBase>46</damageAmountBase>
                            <explosionRadius>2</explosionRadius>
                            <soundExplode>Explosion_EMP_Quiet</soundExplode>
                        </projectile>
                        <modExtensions>
                            <li Class="VFECore.ProjectileExtension">
                                <flashIntensity>10</flashIntensity>
                                <hitFleck>Fleck_Random_Explosions</hitFleck>
                            </li>
                        </modExtensions>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBeam" Name="PhotonModulatorLongRange_Bond" Abstract="True">
                        <label>Photon Modulator Long Range</label>
                        <graphicData>
                            <texPath>Effects/LaserBeam2</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                            <shaderType>TransparentPostLight</shaderType>
                        </graphicData>
                        <projectile>
                            <damageDef>LaserBlast</damageDef>
                            <speed>1000</speed>
                            <ai_IsIncendiary>false</ai_IsIncendiary>
                            <damageAmountBase>6</damageAmountBase>
                        </projectile>
                        <modExtensions>
                            <li Class="VFECore.ProjectileExtension">
                                <flashIntensity>10</flashIntensity>
                                <hitFleck>Fleck_Random_Explosions</hitFleck>
                            </li>
                        </modExtensions>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBeam" Name="PhotonModulatorMediumRange_Bond" Abstract="True">
                        <label>Photon Modulator Medium Range</label>
                        <graphicData>
                            <texPath>Effects/LaserBeam3</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                            <shaderType>TransparentPostLight</shaderType>
                        </graphicData>
                        <projectile>
                            <damageDef>LaserBlast</damageDef>
                            <speed>1000</speed>
                            <ai_IsIncendiary>false</ai_IsIncendiary>
                            <damageAmountBase>5</damageAmountBase>
                        </projectile>
                        <modExtensions>
                            <li Class="VFECore.ProjectileExtension">
                                <flashIntensity>10</flashIntensity>
                                <hitFleck>Fleck_Random_Explosions</hitFleck>
                            </li>
                        </modExtensions>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBeam" Name="PhotonModulatorShortRange_Bond" Abstract="True">
                        <label>Photon Modulator Short Range</label>
                        <graphicData>
                            <texPath>Effects/LaserBeam4</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                            <shaderType>TransparentPostLight</shaderType>
                        </graphicData>
                        <projectile>
                            <damageDef>LaserBlast</damageDef>
                            <speed>1000</speed>
                            <ai_IsIncendiary>false</ai_IsIncendiary>
                            <damageAmountBase>4</damageAmountBase>
                        </projectile>
                        <modExtensions>
                            <li Class="VFECore.ProjectileExtension">
                                <flashIntensity>10</flashIntensity>
                                <hitFleck>Fleck_Random_Explosions</hitFleck>
                            </li>
                        </modExtensions>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBeam" Name="PhotonModulatorAlmostMeleeRange_Bond" Abstract="True">
                        <label>Photon Modulator Almost Melee Range</label>
                        <graphicData>
                            <texPath>Effects/LaserBeam5</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                            <shaderType>TransparentPostLight</shaderType>
                        </graphicData>
                        <projectile>
                            <damageDef>LaserBlast</damageDef>
                            <speed>1000</speed>
                            <ai_IsIncendiary>false</ai_IsIncendiary>
                            <damageAmountBase>3</damageAmountBase>
                        </projectile>
                        <modExtensions>
                            <li Class="VFECore.ProjectileExtension">
                                <flashIntensity>10</flashIntensity>
                                <hitFleck>Fleck_Random_Explosions</hitFleck>
                            </li>
                        </modExtensions>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBullet" Name="VPE_ChainShot_Bond" Abstract="True">
                        <label>chain bolt</label>
                        <thingClass>VFEMech.TeslaProjectile</thingClass>
                        <drawOffscreen>true</drawOffscreen>
                        <graphicData>
                            <texPath>Effects/Red_Laser</texPath>
                            <graphicClass>Graphic_Flicker</graphicClass>
                            <shaderType>TransparentPostLight</shaderType>
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>2</damageAmountBase>
                            <speed>70</speed>
                            <ai_IsIncendiary>true</ai_IsIncendiary>
                        </projectile>
                        <modExtensions>
                            <li Class="VFEMech.TeslaChainingProps">
                                <maxBounceCount>2000</maxBounceCount>
                                <damageDef>Bullet</damageDef>
                                <explosionDamageDef>Stun</explosionDamageDef>
                                <impactRadius>4</impactRadius>
                                <targetFriendly>false</targetFriendly>
                                <addFire>true</addFire>
                                <bounceRange>40</bounceRange>
                                <maxLifetime>40</maxLifetime>
                                <impactSound>Explosion_EMP_Quiet</impactSound>
                            </li>
                        </modExtensions>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBullet" Name="Bullet_UltraGun_Bond" Abstract="True">
                        <label>UltraGun shot</label>
                        <graphicData>
                            <texPath>Effects/Red_Laser</texPath>
                            <graphicClass>Graphic_Flicker</graphicClass>
                            <shaderType>TransparentPostLight</shaderType>
                            <!-- <drawSize>0.5</drawSize> -->
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>33</damageAmountBase>
                            <stoppingPower>3.5</stoppingPower>
                            <speed>400</speed>
                        </projectile>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseBullet" Name="Bullet_SolarScorchCannon_Bond" Abstract="True">
                        <label>Solar Scorch Cannon Bullet</label>
                        <thingClass>Projectile_HellsphereCannon</thingClass>
                        <graphicData>
                            <texPath>Effects/Small_Explosion</texPath>
                            <shaderType>MoteGlow</shaderType>
                            <graphicClass>Graphic_Flicker</graphicClass>
                            <drawSize>(2, 2)</drawSize>
                        </graphicData>
                        <projectile>
                            <damageDef>Mini_Vaporize</damageDef>
                            <speed>45</speed>
                            <explosionRadius>1.9</explosionRadius>
                            <screenShakeFactor>1.5</screenShakeFactor>
                        </projectile>
                    </ThingDef>
                </value>
            </Operation>

            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>Daria40K.MightyPersonaBondForgePatch</modId>
                <key>Daria40K_MightyPersonaBondForgePatch_AdvancedLaserWeapons</key>
                <defaultValue>true</defaultValue>

                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationAdd">
                        <xpath>Defs</xpath>
                        <value>
                            <ThingDef ParentName="ALW_LaserBlaster_Bond">
                                <defName>ALW_LaserBlaster_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="ALW_ChainBeam_Bond">
                                <defName>ALW_ChainBeam_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="ALW_ChainBoomer_Bond">
                                <defName>ALW_ChainBoomer_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="ALW_SolarScorchCannon_Bond">
                                <defName>ALW_SolarScorchCannon_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="ALW_PhotonModulator_Bond">
                                <defName>ALW_PhotonModulator_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="VPE_LaserBlast_Bond">
                                <defName>VPE_LaserBlast_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="ChainBeam_Bond">
                                <defName>ChainBeam_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="ChainBoom_Bond">
                                <defName>ChainBoom_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="PhotonModulatorUltraLongRange_Bond">
                                <defName>PhotonModulatorUltraLongRange_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="PhotonModulatorLongRange_Bond">
                                <defName>PhotonModulatorLongRange_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="PhotonModulatorMediumRange_Bond">
                                <defName>PhotonModulatorMediumRange_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="PhotonModulatorShortRange_Bond">
                                <defName>PhotonModulatorShortRange_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="PhotonModulatorAlmostMeleeRange_Bond">
                                <defName>PhotonModulatorAlmostMeleeRange_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="VPE_ChainShot_Bond">
                                <defName>VPE_ChainShot_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_UltraGun_Bond">
                                <defName>Bullet_UltraGun_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_SolarScorchCannon_Bond">
                                <defName>Bullet_SolarScorchCannon_Bond</defName>
                            </ThingDef>
                        </value>
                    </Operation>
                </caseTrue>
            </Operation>
        </caseTrue>
    </Operation>
</Patch>