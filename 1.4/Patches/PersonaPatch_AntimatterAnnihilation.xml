<?xml version="1.0" encoding="utf-8"?>
<!--
    ===== Antimatter Annihilation =====
-->
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Antimatter Annihilation</li>
        </mods>

        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>Defs</xpath>
                    <value>
                        <ThingDef Name="MPBFPM_AntimatterGunBase_AA" Abstract="True" ParentName="MPBFPM_BaseHumanMakeableGun">
                            <techLevel>Spacer</techLevel>
                            <soundInteract>Interact_ChargeRifle</soundInteract>                            <!-- TODO change me for a cusom sound (something like MW night vision power-on :p)-->
                            <weaponTags>
                                <li>SpacerGun</li>
                            </weaponTags>
                        </ThingDef>

                        <ThingDef Name="MPBFPM_AntimatterGunUncraftableBase_AA" Abstract="True" ParentName="MPBFPM_BaseGunWithQuality">
                            <techLevel>Ultra</techLevel>                            <!-- I would rather Ultra tech level, but I don't know the spawn conditions for 'Ultra' raiders (might even be DLC only) -->
                            <soundInteract>Interact_ChargeRifle</soundInteract>                            <!-- TODO change me for a cusom sound (something like MW night vision power-on :p)-->
                            <weaponTags>
                                <li>UltraGun</li>
                            </weaponTags>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseBullet" Name="Bullet_Antimatter_AA_Bond" Abstract="True">
                            <label>antimatter charge</label>
                            <graphicData>
                                <texPath>Things/Projectile/Charge_Small</texPath>
                            </graphicData>
                            <projectile>
                                <damageDef>Annihilate_AA</damageDef>
                                <damageAmountBase>18</damageAmountBase>
                                <armorPenetrationBase>0.48</armorPenetrationBase>
                                <speed>65</speed>
                                <stoppingPower>1.0</stoppingPower>
                            </projectile>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseBullet" Name="Bullet_LightAntimatter_AA_Bond" Abstract="True">
                            <label>antimatter charge</label>
                            <graphicData>
                                <texPath>Things/Projectile/Charge_Small</texPath>
                            </graphicData>
                            <projectile>
                                <damageDef>Annihilate_AA</damageDef>
                                <damageAmountBase>13</damageAmountBase>
                                <armorPenetrationBase>0.30</armorPenetrationBase>
                                <stoppingPower>1.0</stoppingPower>
                                <speed>75</speed>
                            </projectile>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_AntimatterGunBase_AA" Name="AntimatterBlaster_AA_Bond" Abstract="True">
                            <label>persona antimatter blaster</label>
                            <description>A medium range personal defense weapon, firing antimatter.

Fires tiny amounts of antimatter contained in a spherical AT field. Upon impact the AT field dissolves, exposing the antimatter to the surrounding environment and causing an annihilation reaction.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/AntimatterBlaster</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <statBases>
                                <Mass>1.6</Mass>
                                <AccuracyTouch>0.88</AccuracyTouch>
                                <AccuracyShort>0.77</AccuracyShort>
                                <AccuracyMedium>0.495</AccuracyMedium>
                                <AccuracyLong>0.22</AccuracyLong>
                                <MarketValue>2090.0</MarketValue>
                            </statBases>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>Bullet_Antimatter_AA_Bond</defaultProjectile>
                                    <warmupTime>0.552</warmupTime>
                                    <range>12.5</range>
                                    <soundCast>Shot_AntimatterBlaster_AA</soundCast>
                                    <soundCastTail>GunTail_Medium</soundCastTail>
                                    <muzzleFlashScale>10</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>7.7</power>
                                    <cooldownTime>1.19</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>8.8</power>
                                    <cooldownTime>1.02</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="AntimatterGrenadeLauncher_AA_Bond" Abstract="True">
                            <label>persona antimatter grenade launcher</label>
                            <description>A huge gun that fires antimatter grenades over a longer distance. Very devastating against structures and enemies alike.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/AntimatterGrenadeLauncher</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <soundInteract>Interact_Rifle</soundInteract>
                            <generateCommonality>0.25</generateCommonality>
                            <statBases>
                                <Mass>4.5</Mass>
                                <RangedWeapon_Cooldown>2.975</RangedWeapon_Cooldown>
                            </statBases>
                            <weaponTags>
                                <li>GrenadeDestructive</li>
                            </weaponTags>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>Bullet_AntimatterGrenade_AA_Bond</defaultProjectile>
                                    <warmupTime>3.825</warmupTime>
                                    <range>23.9</range>
                                    <forcedMissRadius>1</forcedMissRadius>
                                    <burstShotCount>1</burstShotCount>
                                    <soundCast>Shot_IncendiaryLauncher</soundCast>
                                    <soundCastTail>GunTail_Medium</soundCastTail>
                                    <muzzleFlashScale>14</muzzleFlashScale>
                                    <targetParams>
                                        <canTargetLocations>true</canTargetLocations>
                                    </targetParams>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseBullet" Name="Bullet_AntimatterGrenade_AA_Bond" Abstract="True">
                            <label>launched antimatter grenade</label>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Projectiles/AntimatterGrenade</texPath>
                                <shaderType>TransparentPostLight</shaderType>
                            </graphicData>
                            <thingClass>Projectile_Explosive</thingClass>
                            <projectile>
                                <speed>50</speed>
                                <damageDef>AnnihilationExplosion_AA</damageDef>
                                <explosionRadius>2</explosionRadius>                                <!-- Less than regular antimatter grenades -->
                                <ai_IsIncendiary>true</ai_IsIncendiary>                                <!-- Leaving as true since vanilla Smoke Laucher also has a true... They may be a reason for that that I don't want to break -->
                            </projectile>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_AntimatterGunBase_AA" Name="AntimatterRifle_AA_Bond" Abstract="True">
                            <label>persona antimatter rifle</label>
                            <description>A 2-burst antimatter rifle. High accuracy and damage.

Fires tiny amounts of antimatter contained in a spherical AT field. Upon impact the AT field dissolves, exposing the antimatter to the surrounding environment and causing an annihilation reaction.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/AntimatterRifle</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <statBases>
                                <Mass>3.8</Mass>
                                <AccuracyTouch>0.715</AccuracyTouch>
                                <AccuracyShort>0.825</AccuracyShort>
                                <AccuracyMedium>0.693</AccuracyMedium>
                                <AccuracyLong>0.396</AccuracyLong>
                                <RangedWeapon_Cooldown>0.51</RangedWeapon_Cooldown>
                                <MarketValue>3080.0</MarketValue>
                            </statBases>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>Bullet_Antimatter_AA_Bond</defaultProjectile>
                                    <warmupTime>0.68</warmupTime>
                                    <range>27.5</range>
                                    <ticksBetweenBurstShots>9</ticksBetweenBurstShots>
                                    <burstShotCount>2</burstShotCount>
                                    <soundCast>Shot_AntimatterBlaster_AA</soundCast>
                                    <soundCastTail>GunTail_Heavy</soundCastTail>
                                    <muzzleFlashScale>12</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_AntimatterGunBase_AA" Name="AntimatterSMG_AA_Bond" Abstract="True">
                            <label>persona antimatter SMG</label>
                            <description>Thanks to advanced heat venting techniques, this SMG fires a large volley of antimatter with respectable precision.

Fires tiny amounts of antimatter contained in a spherical AT field. Upon impact the AT field dissolves, exposing the antimatter to the surrounding environment and causing an annihilation reaction.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/AntimatterSMG</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <statBases>
                                <Mass>3</Mass>
                                <AccuracyTouch>0.605</AccuracyTouch>
                                <AccuracyShort>0.66</AccuracyShort>
                                <AccuracyMedium>0.605</AccuracyMedium>
                                <AccuracyLong>0.22</AccuracyLong>
                                <RangedWeapon_Cooldown>1.7</RangedWeapon_Cooldown>
                                <MarketValue>3520.0</MarketValue>
                            </statBases>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>Bullet_LightAntimatter_AA_Bond</defaultProjectile>
                                    <warmupTime>0.17</warmupTime>                                    <!-- Aim time is very fast, kind of like the Quick Draw mod, but the Ranged Cooldown compensates for this.-->
                                    <range>15.5</range>
                                    <ticksBetweenBurstShots>5</ticksBetweenBurstShots>
                                    <burstShotCount>6</burstShotCount>
                                    <soundCast>Shot_AntimatterBlaster_AA</soundCast>
                                    <soundCastTail>GunTail_Light</soundCastTail>
                                    <muzzleFlashScale>9</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>6.6</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>8.8</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_AntimatterGunBase_AA" Name="AntimatterSniperRifle_AA_Bond" Abstract="True">
                            <label>persona antimatter sniper rifle</label>
                            <description>An antimatter rifle designed for long range shooting. Pinpoint accuracy and high damage.

Fires tiny amounts of antimatter contained in a spherical AT field. Upon impact the AT field dissolves, exposing the antimatter to the surrounding environment and causing an annihilation reaction.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/AntimatterSniperRifle</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <equippedAngleOffset>30.3</equippedAngleOffset>
                            <weaponTags>
                                <li>SniperRifleSpacer</li>
                            </weaponTags>
                            <statBases>
                                <Mass>3.9</Mass>
                                <AccuracyTouch>0.715</AccuracyTouch>
                                <AccuracyShort>0.825</AccuracyShort>
                                <AccuracyMedium>0.99</AccuracyMedium>
                                <AccuracyLong>0.946</AccuracyLong>
                                <RangedWeapon_Cooldown>1.02</RangedWeapon_Cooldown>
                                <MarketValue>3135.0</MarketValue>
                            </statBases>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>Bullet_AntimatterSniperRifle_AA_Bond</defaultProjectile>
                                    <warmupTime>2.125</warmupTime>
                                    <range>45.5</range>
                                    <soundCast>Shot_AntimatterBlaster_AA</soundCast>
                                    <soundCastTail>GunTail_Heavy</soundCastTail>
                                    <muzzleFlashScale>12</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseBullet" Name="Bullet_AntimatterSniperRifle_AA_Bond" Abstract="True">
                            <label>antimatter charge</label>
                            <graphicData>
                                <texPath>Things/Projectile/Charge_Small</texPath>
                            </graphicData>
                            <projectile>
                                <damageDef>Annihilate_AA</damageDef>
                                <stoppingPower>2.5</stoppingPower>
                                <damageAmountBase>38</damageAmountBase>
                                <armorPenetrationBase>0.85</armorPenetrationBase>
                                <speed>75</speed>
                            </projectile>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_AntimatterGunUncraftableBase_AA" Name="DevastatorLMG_AA_Bond" Abstract="True">
                            <label>persona devastator LMG</label>
                            <description>A heavy antimatter weapon that fires a continuous volley of bullets. Not very accurate, but excellent against crowds of enemies.
This weapon incorporates archotech technology. Even with a good understanding of Antimatter tech, this is still incredibly advanced, and can't be crafted using any known means.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/DevastatorLMG</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <statBases>
                                <Mass>4.8</Mass>
                                <AccuracyTouch>0.495</AccuracyTouch>
                                <AccuracyShort>0.605</AccuracyShort>
                                <AccuracyMedium>0.715</AccuracyMedium>
                                <AccuracyLong>0.33</AccuracyLong>
                                <RangedWeapon_Cooldown>1.7</RangedWeapon_Cooldown>
                                <MarketValue>4180.0</MarketValue>
                            </statBases>
                            <equippedAngleOffset>24.6</equippedAngleOffset>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>Bullet_DevastatorLMG_AA_Bond</defaultProjectile>
                                    <warmupTime>1.36</warmupTime>
                                    <range>25</range>
                                    <ticksBetweenBurstShots>6</ticksBetweenBurstShots>
                                    <burstShotCount>14</burstShotCount>
                                    <soundCast>Shot_AntimatterBlaster_AA</soundCast>
                                    <soundCastTail>GunTail_Heavy</soundCastTail>
                                    <muzzleFlashScale>12</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseBullet" Name="Bullet_DevastatorLMG_AA_Bond" Abstract="True">
                            <label>antimatter charge</label>
                            <graphicData>
                                <texPath>Things/Projectile/Charge_Small</texPath>
                            </graphicData>
                            <projectile>
                                <damageDef>Annihilate_AA</damageDef>
                                <damageAmountBase>15</damageAmountBase>
                                <stoppingPower>1.5</stoppingPower>
                                <armorPenetrationBase>0.95</armorPenetrationBase>
                                <speed>90</speed>
                            </projectile>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_AntimatterGunUncraftableBase_AA" Name="DevastatorSmartGun_AA_Bond" Abstract="True">
                            <label>persona devastator smart gun</label>
                            <description>A heavy antimatter weapon that uses archotech technology to increase shooting accuracy far beyond human capabilities. Fires a large burst.
This weapon incorporates archotech technology. Even with a good understanding of Antimatter tech, this is still incredibly advanced, and can't be crafted using any known means.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/DevastatorSmartGun</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <statBases>
                                <Mass>4.8</Mass>
                                <AccuracyTouch>0.825</AccuracyTouch>
                                <AccuracyShort>0.99</AccuracyShort>
                                <AccuracyMedium>0.88</AccuracyMedium>
                                <AccuracyLong>0.77</AccuracyLong>
                                <RangedWeapon_Cooldown>2.125</RangedWeapon_Cooldown>
                                <MarketValue>5720.0</MarketValue>
                            </statBases>
                            <equippedAngleOffset>0</equippedAngleOffset>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>Bullet_DevastatorSmartGun_AA_Bond</defaultProjectile>
                                    <warmupTime>1.445</warmupTime>
                                    <range>23.9</range>
                                    <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
                                    <burstShotCount>12</burstShotCount>
                                    <soundCast>Shot_AntimatterBlaster_AA</soundCast>
                                    <soundCastTail>GunTail_Medium</soundCastTail>
                                    <muzzleFlashScale>8</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseBullet" Name="Bullet_DevastatorSmartGun_AA_Bond" Abstract="True">
                            <label>antimatter charge</label>
                            <graphicData>
                                <texPath>Things/Projectile/Charge_Small</texPath>
                            </graphicData>
                            <projectile>
                                <damageDef>Annihilate_AA</damageDef>
                                <damageAmountBase>7</damageAmountBase>
                                <stoppingPower>1.0</stoppingPower>
                                <armorPenetrationBase>0.4</armorPenetrationBase>
                                <speed>90</speed>
                            </projectile>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_AntimatterGunUncraftableBase_AA" Name="DevastatorSniperRifle_AA_Bond" Abstract="True">
                            <label>persona devastator sniper rifle</label>
                            <description>A heavy antimatter weapon that deals huge damage over very long ranges.
This weapon incorporates archotech technology. Even with a good understanding of Antimatter tech, this is still incredibly advanced, and can't be crafted using any known means.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/DSR</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <equippedAngleOffset>33.5</equippedAngleOffset>
                            <weaponTags>
                                <li>SniperRifleUltra</li>
                            </weaponTags>
                            <statBases>
                                <Mass>7</Mass>
                                <AccuracyTouch>0.55</AccuracyTouch>
                                <AccuracyShort>0.66</AccuracyShort>
                                <AccuracyMedium>0.99</AccuracyMedium>
                                <AccuracyLong>0.968</AccuracyLong>
                                <RangedWeapon_Cooldown>1.02</RangedWeapon_Cooldown>
                                <MarketValue>5500.0</MarketValue>
                            </statBases>
                            <verbs>
                                <li>
                                    <verbClass>Verb_Shoot</verbClass>
                                    <hasStandardCommand>true</hasStandardCommand>
                                    <defaultProjectile>Bullet_DevastatorSniperRifle_AA_Bond</defaultProjectile>
                                    <warmupTime>2.975</warmupTime>
                                    <range>65</range>
                                    <soundCast>Shot_HeavySniper_AA</soundCast>
                                    <soundCastTail>GunTail_Heavy</soundCastTail>
                                    <muzzleFlashScale>12</muzzleFlashScale>
                                </li>
                            </verbs>
                            <tools>
                                <li>
                                    <label>stock</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                                <li>
                                    <label>barrel</label>
                                    <capacities>
                                        <li>Blunt</li>
                                        <li>Poke</li>
                                    </capacities>
                                    <power>9.9</power>
                                    <cooldownTime>1.7</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseBullet" Name="Bullet_DevastatorSniperRifle_AA_Bond" Abstract="True">
                            <label>antimatter charge</label>
                            <graphicData>
                                <texPath>Things/Projectile/Charge_Small</texPath>
                            </graphicData>
                            <projectile>
                                <damageDef>Annihilate_AA</damageDef>
                                <stoppingPower>3</stoppingPower>
                                <damageAmountBase>77</damageAmountBase>
                                <armorPenetrationBase>1.05</armorPenetrationBase>
                                <speed>200</speed>
                            </projectile>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseMeleeWeapon_Blunt" Name="Galvaknuckles_AA_Bond" Abstract="True">
                            <label>persona galvaknuckles</label>
                            <description>A set of brass knuckles, upgraded with plasteel and equipped with an internal battery that shocks the person hit and causes intense pain but minimal damage.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/Galvaknuckles</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <uiIconScale>1.1</uiIconScale>
                            <techLevel>Industrial</techLevel>
                            <weaponTags>
                                <li>IndustrialMeleeAdvanced</li>
                            </weaponTags>
                            <statBases>
                                <Mass>0.6</Mass>
                            </statBases>
                            <equippedAngleOffset>-30</equippedAngleOffset>
                            <tools>
                                <li>
                                    <label>knuckles</label>
                                    <labelUsedInLogging>true</labelUsedInLogging>
                                    <capacities>
                                        <li>GalvaPainToolCap_AA</li>
                                    </capacities>
                                    <power>8.69</power>
                                    <cooldownTime>0.765</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseMeleeWeapon_Sharp_Quality" Name="Karambit_AA_Bond" Abstract="True">
                            <label>persona karambit</label>
                            <description>A single-handed curved blade, designed for close quater combat. Very fast attack speed, relatively low damage per hit.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/Karambit</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <techLevel>Industrial</techLevel>
                            <weaponTags>
                                <li>IndustrialMeleeAdvanced</li>
                            </weaponTags>
                            <statBases>
                                <Mass>0.15</Mass>
                                <!-- <MarketValue>350</MarketValue> -->
                            </statBases>
                            <equippedAngleOffset>180</equippedAngleOffset>
                            <tools>
                                <li>
                                    <label>handle</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>8.8</power>
                                    <armorPenetration>0.165</armorPenetration>
                                    <cooldownTime>0.765</cooldownTime>
                                </li>
                                <li>
                                    <label>point</label>
                                    <capacities>
                                        <li>Stab</li>
                                    </capacities>
                                    <power>13.2</power>
                                    <armorPenetration>0.44</armorPenetration>
                                    <cooldownTime>0.765</cooldownTime>
                                </li>
                                <li>
                                    <label>edge</label>
                                    <capacities>
                                        <li>Cut</li>
                                    </capacities>
                                    <power>8.8</power>
                                    <armorPenetration>0.385</armorPenetration>
                                    <cooldownTime>0.51</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseMeleeWeapon_Sharp_Quality" Name="ResonatingBlade_AA_Bond" Abstract="True">
                            <label>persona resonating blade</label>
                            <description>An antimatter composite blade, that is engineered to create constant internal annihilation reactions, similarly to how nuclear decay works.\n\nThe energy released from this flows through the user, increasing their maximum muscle strength and allowing them to move much faster than normal. This also tires out the user, resulting in slightly decreased work speed.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/ResonatingBlade</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <techLevel>Spacer</techLevel>
                            <weaponTags>
                                <li>SpacerMeleeAdvanced</li>
                            </weaponTags>
                            <statBases>
                                <Mass>1.2</Mass>
                            </statBases>
                            <equippedStatOffsets>
                                <MoveSpeed>2.5</MoveSpeed>                                <!-- Gives +2.5 cps movement boost. -->
                                <WorkSpeedGlobal>-0.10</WorkSpeedGlobal>
                            </equippedStatOffsets>
                            <equippedAngleOffset>0</equippedAngleOffset>
                            <tools>
                                <li>
                                    <label>handle</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>8.8</power>
                                    <armorPenetration>0.165</armorPenetration>
                                    <cooldownTime>1.36</cooldownTime>
                                </li>
                                <li>
                                    <label>point</label>
                                    <capacities>
                                        <li>Stab</li>
                                    </capacities>
                                    <power>13.2</power>
                                    <armorPenetration>0.66</armorPenetration>
                                    <cooldownTime>1.02</cooldownTime>
                                </li>
                                <li>
                                    <label>edge</label>
                                    <capacities>
                                        <li>Cut</li>
                                    </capacities>
                                    <power>12.1</power>
                                    <armorPenetration>0.55</armorPenetration>
                                    <cooldownTime>0.935</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseMeleeWeapon_Sharp_Quality" Name="ScissorBlade_AA_Bond" Abstract="True">
                            <label>persona scissor blade</label>
                            <description>Unique long blade that resembles half of a pair of scissors. Very high cutting damage and armor penetration, and fast blunt attack.
Painted red so that you don't loose your way.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/ScissorBlade</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <techLevel>Spacer</techLevel>
                            <weaponTags>
                                <li>SpacerMeleeAdvanced</li>
                            </weaponTags>
                            <statBases>
                                <Mass>12</Mass>
                            </statBases>
                            <equippedStatOffsets>
                                <MoveSpeed>0.4</MoveSpeed>                                <!-- Gives +0.4 cps movement boost. Because I can. -->
                            </equippedStatOffsets>
                            <equippedAngleOffset>0</equippedAngleOffset>
                            <tools>
                                <li>
                                    <label>handle</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>13.2</power>
                                    <armorPenetration>0.33</armorPenetration>
                                    <cooldownTime>1.19</cooldownTime>
                                </li>
                                <li>
                                    <label>point</label>
                                    <capacities>
                                        <li>Stab</li>
                                    </capacities>
                                    <power>30.8</power>
                                    <armorPenetration>1.32</armorPenetration>
                                    <cooldownTime>2.21</cooldownTime>
                                </li>
                                <li>
                                    <label>edge</label>
                                    <capacities>
                                        <li>Cut</li>
                                    </capacities>
                                    <power>39.6</power>
                                    <armorPenetration>0.88</armorPenetration>
                                    <cooldownTime>1.53</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>

                        <ThingDef ParentName="MPBFPM_BaseMeleeWeapon_Sharp_Quality" Name="SecretSword_AA_Bond" Abstract="True">
                            <label>persona secret sword</label>
                            <description>At first glance it appears to be a long sword of ancient design, but closer inspection shows that it is made of ultra-advanced materials, and has an incredibly sharp cutting edge.\nA weapon to rival the strength of the Scissor Blade.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                            <graphicData>
                                <texPath>AntimatterAnnihilation/Weapons/SecretSword</texPath>
                                <graphicClass>Graphic_Single</graphicClass>
                            </graphicData>
                            <techLevel>Spacer</techLevel>
                            <weaponTags>
                                <li>SpacerMeleeAdvanced</li>
                            </weaponTags>
                            <statBases>
                                <Mass>8</Mass>
                            </statBases>
                            <equippedStatOffsets>
                                <MoveSpeed>0.6</MoveSpeed>                                <!-- Gives +0.5 cps movement boost. Because I can. -->
                            </equippedStatOffsets>
                            <equippedAngleOffset>0</equippedAngleOffset>
                            <tools>
                                <li>
                                    <label>handle</label>
                                    <capacities>
                                        <li>Blunt</li>
                                    </capacities>
                                    <power>11.0</power>
                                    <armorPenetration>0.33</armorPenetration>
                                    <cooldownTime>1.19</cooldownTime>
                                </li>
                                <li>
                                    <label>point</label>
                                    <capacities>
                                        <li>Stab</li>
                                    </capacities>
                                    <power>26.4</power>
                                    <armorPenetration>1.045</armorPenetration>
                                    <cooldownTime>2.21</cooldownTime>
                                </li>
                                <li>
                                    <label>edge</label>
                                    <capacities>
                                        <li>Cut</li>
                                    </capacities>
                                    <power>37.4</power>
                                    <armorPenetration>0.825</armorPenetration>
                                    <cooldownTime>1.53</cooldownTime>
                                </li>
                            </tools>
                        </ThingDef>
                    </value>
                </li>

                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>XML Extensions</li>
                    </mods>

                    <nomatch Class="PatchOperationAdd">
                        <xpath>Defs</xpath>
                        <value>
                            <!-- Bullet_Antimatter_AA_Bond -->
                            <ThingDef ParentName="Bullet_Antimatter_AA_Bond">
                                <defName>Bullet_Antimatter_AA_Bond</defName>
                            </ThingDef>

                            <!-- Bullet_LightAntimatter_AA_Bond -->
                            <ThingDef ParentName="Bullet_LightAntimatter_AA_Bond">
                                <defName>Bullet_LightAntimatter_AA_Bond</defName>
                            </ThingDef>

                            <!-- AntimatterBlaster_AA_Bond -->
                            <ThingDef ParentName="AntimatterBlaster_AA_Bond">
                                <defName>AntimatterBlaster_AA_Bond</defName>
                            </ThingDef>

                            <!-- AntimatterGrenadeLauncher_AA_Bond -->
                            <ThingDef ParentName="AntimatterGrenadeLauncher_AA_Bond">
                                <defName>AntimatterGrenadeLauncher_AA_Bond</defName>
                            </ThingDef>

                            <!-- Bullet_AntimatterGrenade_AA_Bond -->
                            <ThingDef ParentName="Bullet_AntimatterGrenade_AA_Bond">
                                <defName>Bullet_AntimatterGrenade_AA_Bond</defName>
                            </ThingDef>

                            <!-- AntimatterRifle_AA_Bond -->
                            <ThingDef ParentName="AntimatterRifle_AA_Bond">
                                <defName>AntimatterRifle_AA_Bond</defName>
                            </ThingDef>

                            <!-- AntimatterSMG_AA_Bond -->
                            <ThingDef ParentName="AntimatterSMG_AA_Bond">
                                <defName>AntimatterSMG_AA_Bond</defName>
                            </ThingDef>

                            <!-- AntimatterSniperRifle_AA_Bond -->
                            <ThingDef ParentName="AntimatterSniperRifle_AA_Bond">
                                <defName>AntimatterSniperRifle_AA_Bond</defName>
                            </ThingDef>

                            <!-- Bullet_AntimatterSniperRifle_AA_Bond -->
                            <ThingDef ParentName="Bullet_AntimatterSniperRifle_AA_Bond">
                                <defName>Bullet_AntimatterSniperRifle_AA_Bond</defName>
                            </ThingDef>

                            <!-- DevastatorLMG_AA_Bond -->
                            <ThingDef ParentName="DevastatorLMG_AA_Bond">
                                <defName>DevastatorLMG_AA_Bond</defName>
                            </ThingDef>

                            <!-- Bullet_DevastatorLMG_AA_Bond -->
                            <ThingDef ParentName="Bullet_DevastatorLMG_AA_Bond">
                                <defName>Bullet_DevastatorLMG_AA_Bond</defName>
                            </ThingDef>

                            <!-- DevastatorSmartGun_AA_Bond -->
                            <ThingDef ParentName="DevastatorSmartGun_AA_Bond">
                                <defName>DevastatorSmartGun_AA_Bond</defName>
                            </ThingDef>

                            <!-- Bullet_DevastatorSmartGun_AA_Bond -->
                            <ThingDef ParentName="Bullet_DevastatorSmartGun_AA_Bond">
                                <defName>Bullet_DevastatorSmartGun_AA_Bond</defName>
                            </ThingDef>

                            <!-- DevastatorSniperRifle_AA_Bond -->
                            <ThingDef ParentName="DevastatorSniperRifle_AA_Bond">
                                <defName>DevastatorSniperRifle_AA_Bond</defName>
                            </ThingDef>

                            <!-- Bullet_DevastatorSniperRifle_AA_Bond -->
                            <ThingDef ParentName="Bullet_DevastatorSniperRifle_AA_Bond">
                                <defName>Bullet_DevastatorSniperRifle_AA_Bond</defName>
                            </ThingDef>

                            <!-- Galvaknuckles_AA_Bond -->
                            <ThingDef ParentName="Galvaknuckles_AA_Bond">
                                <defName>Galvaknuckles_AA_Bond</defName>
                            </ThingDef>

                            <!-- Karambit_AA_Bond -->
                            <ThingDef ParentName="Karambit_AA_Bond">
                                <defName>Karambit_AA_Bond</defName>
                            </ThingDef>

                            <!-- ResonatingBlade_AA_Bond -->
                            <ThingDef ParentName="ResonatingBlade_AA_Bond">
                                <defName>ResonatingBlade_AA_Bond</defName>
                            </ThingDef>

                            <!-- ScissorBlade_AA_Bond -->
                            <ThingDef ParentName="ScissorBlade_AA_Bond">
                                <defName>ScissorBlade_AA_Bond</defName>
                            </ThingDef>

                            <!-- SecretSword_AA_Bond -->
                            <ThingDef ParentName="SecretSword_AA_Bond">
                                <defName>SecretSword_AA_Bond</defName>
                            </ThingDef>
                        </value>
                    </nomatch>

                    <match Class="PatchOperationSequence">
                        <operations>
                            <li Class="XmlExtensions.OptionalPatch" MayRequire="imranfish.xmlextensions">
                                <modId>Daria40K.MightyPersonaBondForgePatch</modId>
                                <key>Daria40K_MightyPersonaBondForgePatch_AntimatterAnnihilation</key>
                                <defaultValue>true</defaultValue>

                                <caseTrue>
                                    <Operation Class="XmlExtensions.PatchOperationAdd">
                                        <xpath>Defs</xpath>
                                        <value>
                                            <!-- Bullet_Antimatter_AA_Bond -->
                                            <ThingDef ParentName="Bullet_Antimatter_AA_Bond">
                                                <defName>Bullet_Antimatter_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- Bullet_LightAntimatter_AA_Bond -->
                                            <ThingDef ParentName="Bullet_LightAntimatter_AA_Bond">
                                                <defName>Bullet_LightAntimatter_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- AntimatterBlaster_AA_Bond -->
                                            <ThingDef ParentName="AntimatterBlaster_AA_Bond">
                                                <defName>AntimatterBlaster_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- AntimatterGrenadeLauncher_AA_Bond -->
                                            <ThingDef ParentName="AntimatterGrenadeLauncher_AA_Bond">
                                                <defName>AntimatterGrenadeLauncher_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- Bullet_AntimatterGrenade_AA_Bond -->
                                            <ThingDef ParentName="Bullet_AntimatterGrenade_AA_Bond">
                                                <defName>Bullet_AntimatterGrenade_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- AntimatterRifle_AA_Bond -->
                                            <ThingDef ParentName="AntimatterRifle_AA_Bond">
                                                <defName>AntimatterRifle_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- AntimatterSMG_AA_Bond -->
                                            <ThingDef ParentName="AntimatterSMG_AA_Bond">
                                                <defName>AntimatterSMG_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- AntimatterSniperRifle_AA_Bond -->
                                            <ThingDef ParentName="AntimatterSniperRifle_AA_Bond">
                                                <defName>AntimatterSniperRifle_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- Bullet_AntimatterSniperRifle_AA_Bond -->
                                            <ThingDef ParentName="Bullet_AntimatterSniperRifle_AA_Bond">
                                                <defName>Bullet_AntimatterSniperRifle_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- DevastatorLMG_AA_Bond -->
                                            <ThingDef ParentName="DevastatorLMG_AA_Bond">
                                                <defName>DevastatorLMG_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- Bullet_DevastatorLMG_AA_Bond -->
                                            <ThingDef ParentName="Bullet_DevastatorLMG_AA_Bond">
                                                <defName>Bullet_DevastatorLMG_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- DevastatorSmartGun_AA_Bond -->
                                            <ThingDef ParentName="DevastatorSmartGun_AA_Bond">
                                                <defName>DevastatorSmartGun_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- Bullet_DevastatorSmartGun_AA_Bond -->
                                            <ThingDef ParentName="Bullet_DevastatorSmartGun_AA_Bond">
                                                <defName>Bullet_DevastatorSmartGun_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- DevastatorSniperRifle_AA_Bond -->
                                            <ThingDef ParentName="DevastatorSniperRifle_AA_Bond">
                                                <defName>DevastatorSniperRifle_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- Bullet_DevastatorSniperRifle_AA_Bond -->
                                            <ThingDef ParentName="Bullet_DevastatorSniperRifle_AA_Bond">
                                                <defName>Bullet_DevastatorSniperRifle_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- Galvaknuckles_AA_Bond -->
                                            <ThingDef ParentName="Galvaknuckles_AA_Bond">
                                                <defName>Galvaknuckles_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- Karambit_AA_Bond -->
                                            <ThingDef ParentName="Karambit_AA_Bond">
                                                <defName>Karambit_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- ResonatingBlade_AA_Bond -->
                                            <ThingDef ParentName="ResonatingBlade_AA_Bond">
                                                <defName>ResonatingBlade_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- ScissorBlade_AA_Bond -->
                                            <ThingDef ParentName="ScissorBlade_AA_Bond">
                                                <defName>ScissorBlade_AA_Bond</defName>
                                            </ThingDef>

                                            <!-- SecretSword_AA_Bond -->
                                            <ThingDef ParentName="SecretSword_AA_Bond">
                                                <defName>SecretSword_AA_Bond</defName>
                                            </ThingDef>
                                        </value>
                                    </Operation>
                                </caseTrue>
                            </li>
                        </operations>
                    </match>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>
