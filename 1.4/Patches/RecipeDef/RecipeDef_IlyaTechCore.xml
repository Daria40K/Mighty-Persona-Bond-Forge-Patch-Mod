<?xml version="1.0" encoding="utf-8"?>
<!--
    ===== Ilya Tech - Core =====

    == Melee
    SU_Katalina_Bond = persona Katalina Tactical Blade
    SU_Sevika_Bond = persona Sevika Combat Knife

    == Range
    SU_Morgante_Bond = persona Morgante Revolver
    SU_Laviano_Bond = persona Laviano SMG
    SU_Laurino_Bond = persona Laurino MG
    SU_Schwalbe_Bond = persona Schwalbe AR
    SU_Gavino_Bond = persona Gavino Auto-Shotgun
    SU_Federica_Bond = persona Federica Marksman Rifle
    SU_Usov_Bond = persona Usov Deagle
    SU_Natasha_Bond = persona Natasha Javelin
-->
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Ilya Tech - Core</li>
        </mods>

        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <!-- ===== Melee ===== -->
                        <!-- SU_Katalina_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Katalina_Bond</defName>
                            <label>bond Katalina Tactical Blade</label>
                            <description>Bond an Katalina Tactical Blade.</description>
                            <jobString>Bonding a Katalina Tactical Blade.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Katalina</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Katalina</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Katalina_Bond>1</SU_Katalina_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- SU_Sevika_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Sevika_Bond</defName>
                            <label>bond Sevika Combat Knife</label>
                            <description>Bond an Sevika Combat Knife.</description>
                            <jobString>Bonding a Sevika Combat Knife.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Sevika</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Sevika</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Sevika_Bond>1</SU_Sevika_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- ===== Range ===== -->
                        <!-- SU_Morgante_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Morgante_Bond</defName>
                            <label>bond Morgante Revolver</label>
                            <description>Bond an Morgante Revolver.</description>
                            <jobString>Bonding a Morgante Revolver.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Morgante</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Morgante</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Morgante_Bond>1</SU_Morgante_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- SU_Laviano_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Laviano_Bond</defName>
                            <label>bond Laviano SMG</label>
                            <description>Bond an Laviano SMG.</description>
                            <jobString>Bonding a Laviano SMG.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Laviano</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Laviano</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Laviano_Bond>1</SU_Laviano_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- SU_Laurino_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Laurino_Bond</defName>
                            <label>bond Laurino MG</label>
                            <description>Bond an Laurino MG.</description>
                            <jobString>Bonding a Laurino MG.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Laurino</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Laurino</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Laurino_Bond>1</SU_Laurino_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- SU_Schwalbe_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Schwalbe_Bond</defName>
                            <label>bond Schwalbe AR</label>
                            <description>Bond an Schwalbe AR.</description>
                            <jobString>Bonding a Schwalbe AR.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Schwalbe</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Schwalbe</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Schwalbe_Bond>1</SU_Schwalbe_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- SU_Gavino_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Gavino_Bond</defName>
                            <label>bond Gavino Auto-Shotgun</label>
                            <description>Bond an Gavino Auto-Shotgun.</description>
                            <jobString>Bonding a Gavino Auto-Shotgun.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Gavino</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Gavino</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Gavino_Bond>1</SU_Gavino_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- SU_Federica_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Federica_Bond</defName>
                            <label>bond Federica Marksman Rifle</label>
                            <description>Bond an Federica Marksman Rifle.</description>
                            <jobString>Bonding a Federica Marksman Rifle.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Federica</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Federica</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Federica_Bond>1</SU_Federica_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- SU_Usov_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Usov_Bond</defName>
                            <label>bond Usov Deagle</label>
                            <description>Bond an Usov Deagle.</description>
                            <jobString>Bonding a Usov Deagle.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Usov</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Usov</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Usov_Bond>1</SU_Usov_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- SU_Natasha_Bond -->
                        <RecipeDef>
                            <defName>Make_SU_Natasha_Bond</defName>
                            <label>bond Natasha Javelin</label>
                            <description>Bond an Natasha Javelin.</description>
                            <jobString>Bonding a Natasha Javelin.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>IlyaTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Natasha</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Natasha</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Natasha_Bond>1</SU_Natasha_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>
                    </value>
                </li>

                <li Class="XmlExtensions.OptionalPatch" MayRequire="imranfish.xmlextensions">
                    <modId>Daria40K.MightyPersonaBondForgePatch</modId>
                    <key>Daria40K_MightyPersonaBondForgePatch_IlyaTechCore</key>
                    <defaultValue>true</defaultValue>
                    <caseFalse>
                        <!-- SU_Katalina_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Katalina_Bond"]</xpath>
                        </Operation>

                        <!-- SU_Sevika_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Sevika_Bond"]</xpath>
                        </Operation>

                        <!-- SU_Morgante_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Morgante_Bond"]</xpath>
                        </Operation>

                        <!-- SU_Laviano_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Laviano_Bond"]</xpath>
                        </Operation>

                        <!-- SU_Laurino_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Laurino_Bond"]</xpath>
                        </Operation>

                        <!-- SU_Schwalbe_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Schwalbe_Bond"]</xpath>
                        </Operation>

                        <!-- SU_Gavino_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Gavino_Bond"]</xpath>
                        </Operation>

                        <!-- SU_Federica_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Federica_Bond"]</xpath>
                        </Operation>

                        <!-- SU_Usov_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Usov_Bond"]</xpath>
                        </Operation>

                        <!-- SU_Natasha_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_SU_Natasha_Bond"]</xpath>
                        </Operation>
                    </caseFalse>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>
