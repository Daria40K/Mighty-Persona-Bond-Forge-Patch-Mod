<?xml version="1.0" encoding="utf-8"?>
<!-- ===== Rim-Effect: N7 ===== == Melee
	REN7_MeleeWeapon_N7Blade_Bond = persona N7 blade == Range
	REN7_Gun_N7BattleRifle_Bond = persona N7 battle rifle
	REN7_Gun_N7LMG_Bond = persona N7 LMG
	REN7_Gun_N7Shotgun_Bond = persona N7 shotgun
	REN7_Gun_N7DMR_Bond = persona N7 DMR
	REN7_Gun_N7SMG_Bond = persona N7 SMG
	RE_Gun_N7Pistol_Bond = persona N7 pistol
	REN7_Gun_N7AntimaterielRifle_Bond = persona N7 anti-materiel rifle
	REN7_Gun_N7ChainShotgun_Bond = persona N7 chain shotgun
-->
<Patch>
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Rim-Effect: N7</li>
		</mods>

		<match Class="PatchOperationSequence">
			<success>Always</success>
			<operations>
				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<!-- ===== Meele ===== -->
						<!-- REN7_MeleeWeapon_N7Blade_Bond -->
						<RecipeDef ParentName="MPBFPM_RecipeDefBase">
							<defName>Make_REN7_MeleeWeapon_N7Blade_Bond</defName>
							<label>bond N7 blade</label>
							<description>Bond an N7 blade.</description>
							<jobString>Bonding a N7 blade.</jobString>
							<researchPrerequisite>REN7_N7Weaponry</researchPrerequisite>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>REN7_MeleeWeapon_N7Blade</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>REN7_MeleeWeapon_N7Blade</li>
								</thingDefs>
							</fixedIngredientFilter>
							<products>
								<REN7_MeleeWeapon_N7Blade_Bond>1</REN7_MeleeWeapon_N7Blade_Bond>
							</products>
						</RecipeDef>

						<!-- ===== Range ===== -->
						<!-- REN7_Gun_N7BattleRifle -->
						<RecipeDef ParentName="MPBFPM_RecipeDefBase">
							<defName>Make_REN7_Gun_N7BattleRifle_Bond</defName>
							<label>bond N7 battle rifle</label>
							<description>Bond an N7 battle rifle.</description>
							<jobString>Bonding a N7 battle rifle.</jobString>
							<researchPrerequisite>REN7_N7Weaponry</researchPrerequisite>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>REN7_Gun_N7BattleRifle</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>REN7_Gun_N7BattleRifle</li>
								</thingDefs>
							</fixedIngredientFilter>
							<products>
								<REN7_Gun_N7BattleRifle_Bond>1</REN7_Gun_N7BattleRifle_Bond>
							</products>
						</RecipeDef>

						<!-- REN7_Gun_N7LMG_Bond -->
						<RecipeDef ParentName="MPBFPM_RecipeDefBase">
							<defName>Make_REN7_Gun_N7LMG_Bond</defName>
							<label>bond N7 LMG</label>
							<description>Bond an N7 LMG.</description>
							<jobString>Bonding a N7 LMG.</jobString>
							<researchPrerequisite>REN7_N7Weaponry</researchPrerequisite>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>REN7_Gun_N7LMG</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>REN7_Gun_N7LMG</li>
								</thingDefs>
							</fixedIngredientFilter>
							<products>
								<REN7_Gun_N7LMG_Bond>1</REN7_Gun_N7LMG_Bond>
							</products>
						</RecipeDef>

						<!-- REN7_Gun_N7Shotgun_Bond -->
						<RecipeDef ParentName="MPBFPM_RecipeDefBase">
							<defName>Make_REN7_Gun_N7Shotgun_Bond</defName>
							<label>bond N7 shotgun</label>
							<description>Bond an N7 shotgun.</description>
							<jobString>Bonding a N7 shotgun.</jobString>
							<researchPrerequisite>REN7_N7Weaponry</researchPrerequisite>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>REN7_Gun_N7Shotgun</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>REN7_Gun_N7Shotgun</li>
								</thingDefs>
							</fixedIngredientFilter>
							<products>
								<REN7_Gun_N7Shotgun_Bond>1</REN7_Gun_N7Shotgun_Bond>
							</products>
						</RecipeDef>

						<!-- REN7_Gun_N7DMR_Bond -->
						<RecipeDef ParentName="MPBFPM_RecipeDefBase">
							<defName>Make_REN7_Gun_N7DMR_Bond</defName>
							<label>bond N7 DMR</label>
							<description>Bond an N7 DMR.</description>
							<jobString>Bonding a N7 DMR.</jobString>
							<researchPrerequisite>REN7_N7Weaponry</researchPrerequisite>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>REN7_Gun_N7DMR</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>REN7_Gun_N7DMR</li>
								</thingDefs>
							</fixedIngredientFilter>
							<products>
								<REN7_Gun_N7DMR_Bond>1</REN7_Gun_N7DMR_Bond>
							</products>
						</RecipeDef>

						<!-- REN7_Gun_N7SMG_Bond -->
						<RecipeDef ParentName="MPBFPM_RecipeDefBase">
							<defName>Make_REN7_Gun_N7SMG_Bond</defName>
							<label>bond N7 SMG</label>
							<description>Bond an N7 SMG.</description>
							<jobString>Bonding a N7 SMG.</jobString>
							<researchPrerequisite>REN7_N7Weaponry</researchPrerequisite>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>REN7_Gun_N7SMG</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>REN7_Gun_N7SMG</li>
								</thingDefs>
							</fixedIngredientFilter>
							<products>
								<REN7_Gun_N7SMG_Bond>1</REN7_Gun_N7SMG_Bond>
							</products>
						</RecipeDef>

						<!-- RE_Gun_N7Pistol_Bond -->
						<RecipeDef ParentName="MPBFPM_RecipeDefBase">
							<defName>Make_RE_Gun_N7Pistol_Bond</defName>
							<label>bond N7 pistol</label>
							<description>Bond an N7 pistol.</description>
							<jobString>Bonding a N7 pistol.</jobString>
							<researchPrerequisite>REN7_N7Weaponry</researchPrerequisite>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>RE_Gun_N7Pistol</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>RE_Gun_N7Pistol</li>
								</thingDefs>
							</fixedIngredientFilter>
							<products>
								<RE_Gun_N7Pistol_Bond>1</RE_Gun_N7Pistol_Bond>
							</products>
						</RecipeDef>

						<!-- REN7_Gun_N7AntimaterielRifle_Bond -->
						<RecipeDef ParentName="MPBFPM_RecipeDefBase">
							<defName>Make_REN7_Gun_N7AntimaterielRifle_Bond</defName>
							<label>bond N7 anti-materiel rifle</label>
							<description>Bond an N7 anti-materiel rifle.</description>
							<jobString>Bonding a N7 anti-materiel rifle.</jobString>
							<researchPrerequisite>REN7_N7Weaponry</researchPrerequisite>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>REN7_Gun_N7AntimaterielRifle</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>REN7_Gun_N7AntimaterielRifle</li>
								</thingDefs>
							</fixedIngredientFilter>
							<products>
								<REN7_Gun_N7AntimaterielRifle_Bond>1</REN7_Gun_N7AntimaterielRifle_Bond>
							</products>
						</RecipeDef>

						<!-- REN7_Gun_N7ChainShotgun_Bond -->
						<RecipeDef ParentName="MPBFPM_RecipeDefBase">
							<defName>Make_REN7_Gun_N7ChainShotgun_Bond</defName>
							<label>bond N7 chain shotgun</label>
							<description>Bond an N7 chain shotgun.</description>
							<jobString>Bonding a N7 chain shotgun.</jobString>
							<researchPrerequisite>REN7_N7Weaponry</researchPrerequisite>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>REN7_Gun_N7ChainShotgun</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>REN7_Gun_N7ChainShotgun</li>
								</thingDefs>
							</fixedIngredientFilter>
							<products>
								<REN7_Gun_N7ChainShotgun_Bond>1</REN7_Gun_N7ChainShotgun_Bond>
							</products>
						</RecipeDef>
					</value>
				</li>

				<li Class="XmlExtensions.OptionalPatch" MayRequire="imranfish.xmlextensions">
					<modId>Daria40K.MightyPersonaBondForgePatch</modId>
					<key>Daria40K_MightyPersonaBondForgePatch_RimEffectN7</key>
					<defaultValue>true</defaultValue>
					<caseFalse>
						<!-- REN7_MeleeWeapon_N7Blade_Bond -->
						<Operation Class="XmlExtensions.PatchOperationRemove">
							<xpath>Defs/RecipeDef[defName="Make_REN7_MeleeWeapon_N7Blade_Bond"]</xpath>
						</Operation>

						<!-- REN7_Gun_N7BattleRifle_Bond -->
						<Operation Class="XmlExtensions.PatchOperationRemove">
							<xpath>Defs/RecipeDef[defName="Make_REN7_Gun_N7BattleRifle_Bond"]</xpath>
						</Operation>

						<!-- REN7_Gun_N7LMG_Bond -->
						<Operation Class="XmlExtensions.PatchOperationRemove">
							<xpath>Defs/RecipeDef[defName="Make_REN7_Gun_N7LMG_Bond"]</xpath>
						</Operation>

						<!-- REN7_Gun_N7Shotgun_Bond -->
						<Operation Class="XmlExtensions.PatchOperationRemove">
							<xpath>Defs/RecipeDef[defName="Make_REN7_Gun_N7Shotgun_Bond"]</xpath>
						</Operation>

						<!-- REN7_Gun_N7DMR_Bond -->
						<Operation Class="XmlExtensions.PatchOperationRemove">
							<xpath>Defs/RecipeDef[defName="Make_REN7_Gun_N7DMR_Bond"]</xpath>
						</Operation>

						<!-- REN7_Gun_N7SMG_Bond -->
						<Operation Class="XmlExtensions.PatchOperationRemove">
							<xpath>Defs/RecipeDef[defName="Make_REN7_Gun_N7SMG_Bond"]</xpath>
						</Operation>

						<!-- RE_Gun_N7Pistol_Bond -->
						<Operation Class="XmlExtensions.PatchOperationRemove">
							<xpath>Defs/RecipeDef[defName="Make_RE_Gun_N7Pistol_Bond"]</xpath>
						</Operation>

						<!-- REN7_Gun_N7AntimaterielRifle_Bond -->
						<Operation Class="XmlExtensions.PatchOperationRemove">
							<xpath>Defs/RecipeDef[defName="Make_REN7_Gun_N7AntimaterielRifle_Bond"]</xpath>
						</Operation>

						<!-- REN7_Gun_N7ChainShotgun_Bond -->
						<Operation Class="XmlExtensions.PatchOperationRemove">
							<xpath>Defs/RecipeDef[defName="Make_REN7_Gun_N7ChainShotgun_Bond"]</xpath>
						</Operation>
					</caseFalse>
				</li>
			</operations>
		</match>
	</Operation>
</Patch>