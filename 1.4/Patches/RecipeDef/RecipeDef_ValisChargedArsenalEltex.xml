<?xml version="1.0" encoding="utf-8"?>
<!--
    ===== Vali's Charged Arsenal - Eltex Series =====

    == Melee
    V_AnimaHammer_Bond = persona charge eltex warhammer
    V_AnimaStaff_Bond = persona charge eltex staff
    V_AnimaMace_Bond = persona charge eltex mace
    V_AnimaDagger_Bond = persona charge eltex dagger
    V_AnimaLongSword_Bond = persona charge eltex longsword
    V_AnimaKatana_Bond = persona charge eltex katana
    V_AnimaSpearLance_Bond = persona charge eltex spearlance

    == Range
    V_AnimaGunBlade_Bond = persona charge eltex gunblade
    V_AnimaShortGunBlade_Bond = persona charge short eltex gunblade
-->
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Vali's Charged Arsenal - Eltex Series</li>
            <li>Charged Arsenal - Eltex Series</li>
        </mods>

        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <!-- ===== Melee ===== -->
                        <!-- V_AnimaHammer_Bond -->
                        <RecipeDef>
                            <defName>Make_V_AnimaHammer_Bond</defName>
                            <label>bond charge eltex warhammer</label>
                            <description>Bond an charge eltex warhammer.</description>
                            <jobString>Bonding a charge eltex warhammer.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>ChargedShot</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>V_AnimaHammer</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>V_AnimaHammer</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <V_AnimaHammer_Bond>1</V_AnimaHammer_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- V_AnimaStaff_Bond -->
                        <RecipeDef>
                            <defName>Make_V_AnimaStaff_Bond</defName>
                            <label>bond charge eltex staff</label>
                            <description>Bond an charge eltex staff.</description>
                            <jobString>Bonding a charge eltex staff.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>ChargedShot</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>V_AnimaStaff</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>V_AnimaStaff</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <V_AnimaStaff_Bond>1</V_AnimaStaff_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- V_AnimaMace_Bond -->
                        <RecipeDef>
                            <defName>Make_V_AnimaMace_Bond</defName>
                            <label>bond charge eltex mace</label>
                            <description>Bond an charge eltex mace.</description>
                            <jobString>Bonding a charge eltex mace.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>ChargedShot</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>V_AnimaMace</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>V_AnimaMace</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <V_AnimaMace_Bond>1</V_AnimaMace_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- V_AnimaDagger_Bond -->
                        <RecipeDef>
                            <defName>Make_V_AnimaDagger_Bond</defName>
                            <label>bond charge eltex dagger</label>
                            <description>Bond an charge eltex dagger.</description>
                            <jobString>Bonding a charge eltex dagger.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>ChargedShot</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>V_AnimaDagger</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>V_AnimaDagger</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <V_AnimaDagger_Bond>1</V_AnimaDagger_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- V_AnimaLongSword_Bond -->
                        <RecipeDef>
                            <defName>Make_V_AnimaLongSword_Bond</defName>
                            <label>bond charge eltex longsword</label>
                            <description>Bond an charge eltex longsword.</description>
                            <jobString>Bonding a charge eltex longsword.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>ChargedShot</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>V_AnimaLongSword</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>V_AnimaLongSword</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <V_AnimaLongSword_Bond>1</V_AnimaLongSword_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- V_AnimaKatana_Bond -->
                        <RecipeDef>
                            <defName>Make_V_AnimaKatana_Bond</defName>
                            <label>bond charge eltex katana</label>
                            <description>Bond an charge eltex katana.</description>
                            <jobString>Bonding a charge eltex katana.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>ChargedShot</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>V_AnimaKatana</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>V_AnimaKatana</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <V_AnimaKatana_Bond>1</V_AnimaKatana_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- V_AnimaSpearLance_Bond -->
                        <RecipeDef>
                            <defName>Make_V_AnimaSpearLance_Bond</defName>
                            <label>bond charge eltex spearlance</label>
                            <description>Bond an charge eltex spearlance.</description>
                            <jobString>Bonding a charge eltex spearlance.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>ChargedShot</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>V_AnimaSpearLance</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>V_AnimaSpearLance</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <V_AnimaSpearLance_Bond>1</V_AnimaSpearLance_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>

                        <!-- ===== Range ===== -->
                        <!-- V_AnimaGunBlade_Bond -->
                        <RecipeDef>
                            <defName>Make_V_AnimaGunBlade_Bond</defName>
                            <label>bond charge eltex gunblade</label>
                            <description>Bond an charge eltex gunblade.</description>
                            <jobString>Bonding a charge eltex gunblade.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>ChargedShot</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>V_AnimaGunBlade</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>V_AnimaGunBlade</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <V_AnimaGunBlade_Bond>1</V_AnimaGunBlade_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>


                        <!-- V_AnimaShortGunBlade_Bond -->
                        <RecipeDef>
                            <defName>Make_V_AnimaShortGunBlade_Bond</defName>
                            <label>bond charge short eltex gunblade</label>
                            <description>Bond an charge short eltex gunblade.</description>
                            <jobString>Bonding a charge short eltex gunblade.</jobString>
                            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
                            <effectWorking>Cook</effectWorking>
                            <soundWorking>Recipe_Machining</soundWorking>
                            <workAmount>200000</workAmount>
                            <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
                            <researchPrerequisite>ChargedShot</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>V_AnimaShortGunBlade</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>PersonaBondForge_ThingDef_BondingCore</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>V_AnimaShortGunBlade</li>
                                    <li>PersonaBondForge_ThingDef_BondingCore</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <V_AnimaShortGunBlade_Bond>1</V_AnimaShortGunBlade_Bond>
                            </products>
                            <skillRequirements>
                                <Intellectual>15</Intellectual>
                            </skillRequirements>
                            <workSkill>Intellectual</workSkill>
                            <recipeUsers>
                                <li>PersonaBondForge_ThingDef_BondingBench</li>
                            </recipeUsers>
                        </RecipeDef>
                    </value>
                </li>

                <li Class="XmlExtensions.OptionalPatch" MayRequire="imranfish.xmlextensions">
                    <modId>Daria40K.MightyPersonaBondForgePatch</modId>
                    <key>Daria40K_MightyPersonaBondForgePatch_ValisChargedArsenalEltexSeries</key>
                    <defaultValue>true</defaultValue>
                    <caseFalse>
                        <!-- V_AnimaHammer_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_V_AnimaHammer_Bond"]</xpath>
                        </Operation>

                        <!-- V_AnimaStaff_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_V_AnimaStaff_Bond"]</xpath>
                        </Operation>

                        <!-- V_AnimaMace_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_V_AnimaMace_Bond"]</xpath>
                        </Operation>

                        <!-- V_AnimaDagger_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_V_AnimaDagger_Bond"]</xpath>
                        </Operation>

                        <!-- V_AnimaLongSword_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_V_AnimaLongSword_Bond"]</xpath>
                        </Operation>

                        <!-- V_AnimaKatana_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_V_AnimaKatana_Bond"]</xpath>
                        </Operation>

                        <!-- V_AnimaSpearLance_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_V_AnimaSpearLance_Bond"]</xpath>
                        </Operation>

                        <!-- V_AnimaGunBlade_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_V_AnimaGunBlade_Bond"]</xpath>
                        </Operation>

                        <!-- V_AnimaShortGunBlade_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_V_AnimaShortGunBlade_Bond"]</xpath>
                        </Operation>
                    </caseFalse>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>
