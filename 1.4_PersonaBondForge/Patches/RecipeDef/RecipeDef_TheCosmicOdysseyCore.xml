<?xml version="1.0" encoding="utf-8"?>
<!--
    ===== The Cosmic Odyssey - Core =====

    == Melee
    ALE_knife_Bond = persona Compact knife "Sabrecat"
    ALE_vibro_Bond = persona Vibroblade "Gladiator"
    ALE_sabre_Bond = persona Decorated Vibroblade "Glory"
    ALE_sledge_Bond = persona Assault sledge "Skull Breaker" == Range
    ALE_pistol_Bond = persona Gauss pistol "Porcupine"
    ALE_shotgun_Bond = persona Gauss shotgun "Buffalo"
    ALE_SMG_Bond = persona Gauss SMG "Wolverine"
    ALE_AR_Bond = persona Gauss assault rifle "Mare"
    ALE_LMG_Bond = persona Gauss LMG "Stallion"
    ALE_DMR_Bond = persona Gauss DMR "Pit Viper"
    ALE_GL_Bond = persona Alanian grenade launcher "Wall Breaker"
    ALE_HMG_Bond = persona Gauss HMG "Hercules"
    ALE_minigun_Bond = persona Gauss minigun "Thunderstorm"
    ALE_RCL_Bond = persona Quad-barrel recoilless rifle "Cataclysm"
    ALE_warbow_Bond = persona Gauss Warbow "Artemis"
-->
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>The Cosmic Odyssey - Core</li>
        </mods>

        <match Class="PatchOperationSequence">
            <success>Always</success>
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>/Defs</xpath>
                    <value>
                        <!-- ALE_knife_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_knife_Bond</defName>
                            <label>bond Compact knife "Sabrecat"</label>
                            <description>Bond an Compact knife "Sabrecat".</description>
                            <jobString>Bonding a Compact knife "Sabrecat".</jobString>
                            <researchPrerequisite>ALE_civilian</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_knife</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_knife</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_knife_Bond>1</ALE_knife_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_vibro_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_vibro_Bond</defName>
                            <label>bond Vibroblade "Gladiator"</label>
                            <description>Bond an Vibroblade "Gladiator".</description>
                            <jobString>Bonding a Vibroblade "Gladiator".</jobString>
                            <researchPrerequisite>ALE_vibro</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_vibro</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_vibro</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_vibro_Bond>1</ALE_vibro_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_sabre_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_sabre_Bond</defName>
                            <label>bond Decorated Vibroblade "Glory"</label>
                            <description>Bond an Decorated Vibroblade "Glory".</description>
                            <jobString>Bonding a Decorated Vibroblade "Glory".</jobString>
                            <researchPrerequisite>ALE_sabre</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_sabre</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_sabre</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_sabre_Bond>1</ALE_sabre_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_sledge_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_sledge_Bond</defName>
                            <label>bond Assault sledge "Skull Breaker"</label>
                            <description>Bond an Assault sledge "Skull Breaker".</description>
                            <jobString>Bonding a Assault sledge "Skull Breaker".</jobString>
                            <researchPrerequisite>ALE_sledge</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_sledge</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_sledge</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_sledge_Bond>1</ALE_sledge_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_pistol_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_pistol_Bond</defName>
                            <label>bond Gauss pistol "Porcupine"</label>
                            <description>Bond an Gauss pistol "Porcupine".</description>
                            <jobString>Bonding a Gauss pistol "Porcupine".</jobString>
                            <researchPrerequisite>ALE_civilian</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_pistol</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_pistol</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_pistol_Bond>1</ALE_pistol_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_shotgun_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_shotgun_Bond</defName>
                            <label>bond Gauss shotgun "Buffalo"</label>
                            <description>Bond an Gauss shotgun "Buffalo".</description>
                            <jobString>Bonding a Gauss shotgun "Buffalo".</jobString>
                            <researchPrerequisite>ALE_civilian</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_shotgun</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_shotgun</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_shotgun_Bond>1</ALE_shotgun_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_SMG_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_SMG_Bond</defName>
                            <label>bond Gauss SMG "Wolverine"</label>
                            <description>Bond an Gauss SMG "Wolverine".</description>
                            <jobString>Bonding a Gauss SMG "Wolverine".</jobString>
                            <researchPrerequisite>ALE_civilian</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_SMG</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_SMG</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_SMG_Bond>1</ALE_SMG_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_AR_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_AR_Bond</defName>
                            <label>bond Gauss assault rifle "Mare"</label>
                            <description>Bond an Gauss assault rifle "Mare".</description>
                            <jobString>Bonding a Gauss assault rifle "Mare".</jobString>
                            <researchPrerequisite>ALE_military</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_AR</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_AR</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_AR_Bond>1</ALE_AR_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_LMG_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_LMG_Bond</defName>
                            <label>bond Gauss LMG "Stallion"</label>
                            <description>Bond an Gauss LMG "Stallion".</description>
                            <jobString>Bonding a Gauss LMG "Stallion".</jobString>
                            <researchPrerequisite>ALE_military</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_LMG</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_LMG</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_LMG_Bond>1</ALE_LMG_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_DMR_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_DMR_Bond</defName>
                            <label>bond Gauss DMR "Pit Viper"</label>
                            <description>Bond an Gauss DMR "Pit Viper".</description>
                            <jobString>Bonding a Gauss DMR "Pit Viper".</jobString>
                            <researchPrerequisite>ALE_military</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_DMR</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_DMR</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_DMR_Bond>1</ALE_DMR_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_GL_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_GL_Bond</defName>
                            <label>bond Alanian grenade launcher "Wall Breaker"</label>
                            <description>Bond an Alanian grenade launcher "Wall Breaker".</description>
                            <jobString>Bonding a Alanian grenade launcher "Wall Breaker".</jobString>
                            <researchPrerequisite>ALE_military</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_GL</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_GL</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_GL_Bond>1</ALE_GL_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_HMG_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_HMG_Bond</defName>
                            <label>bond Gauss HMG "Hercules"</label>
                            <description>Bond an Gauss HMG "Hercules".</description>
                            <jobString>Bonding a Gauss HMG "Hercules".</jobString>
                            <researchPrerequisite>ALE_heavy</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_HMG</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_HMG</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_HMG_Bond>1</ALE_HMG_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_minigun_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_minigun_Bond</defName>
                            <label>bond Gauss minigun "Thunderstorm"</label>
                            <description>Bond an Gauss minigun "Thunderstorm".</description>
                            <jobString>Bonding a Gauss minigun "Thunderstorm".</jobString>
                            <researchPrerequisite>ALE_heavy</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_minigun</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_minigun</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_minigun_Bond>1</ALE_minigun_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_RCL_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_RCL_Bond</defName>
                            <label>bond Quad-barrel recoilless rifle "Cataclysm"</label>
                            <description>Bond an Quad-barrel recoilless rifle "Cataclysm".</description>
                            <jobString>Bonding a Quad-barrel recoilless rifle "Cataclysm".</jobString>
                            <researchPrerequisite>ALE_recoilless</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_RCL</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_RCL</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_RCL_Bond>1</ALE_RCL_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ALE_warbow_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_ALE_warbow_Bond</defName>
                            <label>bond Gauss Warbow "Artemis"</label>
                            <description>Bond an Gauss Warbow "Artemis".</description>
                            <jobString>Bonding a Gauss Warbow "Artemis".</jobString>
                            <researchPrerequisite>ALE_warbow</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>ALE_warbow</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>ALE_warbow</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <ALE_warbow_Bond>1</ALE_warbow_Bond>
                            </products>
                        </RecipeDef>
                    </value>
                </li>

                <li Class="XmlExtensions.OptionalPatch" MayRequire="imranfish.xmlextensions">
                    <modId>Daria40K.MightyPersonaBondForgePatch</modId>
                    <key>Daria40K_MightyPersonaBondForgePatch_TheCosmicOdysseyCore</key>
                    <defaultValue>true</defaultValue>
                    <caseFalse>
                        <!-- ALE_knife_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_knife_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_vibro_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_vibro_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_sabre_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_sabre_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_sledge_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_sledge_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_pistol_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_pistol_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_shotgun_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_shotgun_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_SMG_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_SMG_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_AR_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_AR_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_LMG_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_LMG_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_DMR_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_DMR_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_GL_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_GL_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_HMG_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_HMG_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_minigun_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_minigun_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_RCL_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_RCL_Bond"]</xpath>
                        </Operation>

                        <!-- ALE_warbow_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_ALE_warbow_Bond"]</xpath>
                        </Operation>
                    </caseFalse>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>
