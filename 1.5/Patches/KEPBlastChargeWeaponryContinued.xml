<?xml version="1.0" encoding="utf-8"?>
<!--
	===== KEP Blast-Charge Weaponry (Continued) =====
-->
<Patch>
    <Operation Class="XmlExtensions.FindMod">
        <mods>
            <li>zal.kepblast</li>
        </mods>
        <packageId>true</packageId>

        <caseTrue>
            <Operation Class="XmlExtensions.PatchOperationAdd">
                <xpath>Defs</xpath>
                <value>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Gun_LasAssault_Bond" Abstract="True">
                        <label>persona Blast-Charge Rifle</label>
                        <description>A relatively old laser rifle design, made on Rimworlds. Its big interactive screen and unique laser guiding systems allow it to be more accurate than most weapons. Relatively lower damage considering charge weaponry beats it damage-wise.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Weapons/BlasRifle</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <weaponTags>
                            <li>SpacerGun</li>
                            <li>KEP</li>
                        </weaponTags>
                        <soundInteract>Interact_ChargeRifle</soundInteract>
                        <statBases>
                            <Mass>3</Mass>
                            <AccuracyTouch>0.715</AccuracyTouch>
                            <AccuracyShort>1.045</AccuracyShort>
                            <AccuracyMedium>0.935</AccuracyMedium>
                            <AccuracyLong>0.825</AccuracyLong>
                            <RangedWeapon_Cooldown>0.765</RangedWeapon_Cooldown>
                        </statBases>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_LazorAssault_Bond</defaultProjectile>
                                <warmupTime>0.8</warmupTime>
                                <range>31</range>
                                <burstShotCount>2</burstShotCount>
                                <ticksBetweenBurstShots>4</ticksBetweenBurstShots>
                                <soundCast>Shot_ChargeRifle</soundCast>
                                <soundCastTail>GunTail_Light</soundCastTail>
                                <muzzleFlashScale>11</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>Barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                </capacities>
                                <power>11.829</power>
                                <cooldownTime>0.68</cooldownTime>
                            </li>
                            <li>
                                <label>Stock</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>9.75</power>
                                <cooldownTime>0.85</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Gun_LasShotgun_Bond" Abstract="True">
                        <label>persona Blast-Charge Shotgun</label>
                        <description>A relatively old laser shotgun design, made on Rimworlds. Its interactive screen and unique laser guiding systems allow it to be more accurate than most weapons. Relatively lower range considering charge weaponry beats it range-wise. Makes up for it with above-average armor-piercing.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Weapons/BlasBoomstick</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <weaponTags>
                            <li>SpacerGun</li>
                            <li>KEP</li>
                        </weaponTags>
                        <weaponClasses>
                            <li>ShortShots</li>
                        </weaponClasses>
                        <soundInteract>Interact_ChargeRifle</soundInteract>
                        <statBases>
                            <Mass>3</Mass>
                            <AccuracyTouch>0.715</AccuracyTouch>
                            <AccuracyShort>1.045</AccuracyShort>
                            <AccuracyMedium>0.935</AccuracyMedium>
                            <AccuracyLong>0.825</AccuracyLong>
                            <RangedWeapon_Cooldown>0.935</RangedWeapon_Cooldown>
                        </statBases>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_LazorShotgun_Bond</defaultProjectile>
                                <warmupTime>1</warmupTime>
                                <range>17</range>
                                <soundCast>Shot_ChargeRifle</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>11</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>Barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                </capacities>
                                <power>11.829</power>
                                <cooldownTime>0.68</cooldownTime>
                            </li>
                            <li>
                                <label>Stock</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>9.75</power>
                                <cooldownTime>0.85</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Gun_LasSniper_Bond" Abstract="True">
                        <label>persona Blast-Charge Sniper Rifle</label>
                        <description>A relatively old laser sniper rifle design, made on Rimworlds. Its big interactive screen and unique laser guiding systems allow it to be way more accurate than most weapons. It is really slow-firing compared to other weapons but it makes it worth it with its damage out-come and excellent armor-piercing qualities.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <graphicData>
                            <texPath>Weapons/Blasniper</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <weaponTags>
                            <li>SniperRifle</li>
                            <li>KEP</li>
                        </weaponTags>
                        <weaponClasses>
                            <li>LongShots</li>
                            <li>RangedHeavy</li>
                        </weaponClasses>
                        <soundInteract>Interact_Rifle</soundInteract>
                        <statBases>
                            <Mass>4</Mass>
                            <AccuracyTouch>0.66</AccuracyTouch>
                            <AccuracyShort>0.825</AccuracyShort>
                            <AccuracyMedium>0.957</AccuracyMedium>
                            <AccuracyLong>0.99</AccuracyLong>
                            <RangedWeapon_Cooldown>2.55</RangedWeapon_Cooldown>
                        </statBases>
                        <equippedAngleOffset>15</equippedAngleOffset>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_LazorSniperbullet_Bond</defaultProjectile>
                                <warmupTime>3.0</warmupTime>
                                <range>45</range>
                                <soundCast>ChargeLance_Fire</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>11</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>stock</label>
                                <capacities>
                                    <li>Blunt</li>
                                </capacities>
                                <power>18.031</power>
                                <cooldownTime>1.7</cooldownTime>
                            </li>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>18.031</power>
                                <cooldownTime>1.7</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Gun_BlastPistol_Bond" Abstract="True">
                        <label>persona Blast-Charge Pistol</label>
                        <description>A relatively old laser handgun design, made in Rimworlds. Its interactive screen and unique laser guiding systems allow it to be more accurate than most weapons. Relatively lower damage considering charge weaponry beats it damage-wise.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Weapons/Blasgun</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <weaponTags>
                            <li>SpacerGun</li>
                            <li>KEP</li>
                        </weaponTags>
                        <weaponClasses>
                            <li>RangedLight</li>
                        </weaponClasses>
                        <soundInteract>Interact_ChargeRifle</soundInteract>
                        <statBases>
                            <Mass>1.5</Mass>
                            <AccuracyTouch>1.155</AccuracyTouch>
                            <AccuracyShort>1.199</AccuracyShort>
                            <AccuracyMedium>0.638</AccuracyMedium>
                            <AccuracyLong>0.495</AccuracyLong>
                            <RangedWeapon_Cooldown>1.02</RangedWeapon_Cooldown>
                        </statBases>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_Laser_Bond</defaultProjectile>
                                <warmupTime>0.5</warmupTime>
                                <range>26</range>
                                <soundCast>Shot_ChargeRifle</soundCast>
                                <soundCastTail>GunTail_Medium</soundCastTail>
                                <muzzleFlashScale>13</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>grip</label>
                                <capacities>
                                    <li>Blunt</li>
                                </capacities>
                                <power>9.75</power>
                                <cooldownTime>1.7</cooldownTime>
                            </li>
                            <li>
                                <label>Grip</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>9.75</power>
                                <cooldownTime>1.7</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_Bullet" Name="Bullet_LazorAssault_Bond" Abstract="True">
                        <label>charge shot</label>
                        <graphicData>
                            <texPath>Projectile/KEP_Laser</texPath>
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>18</damageAmountBase>
                            <armorPenetrationBase>0.21</armorPenetrationBase>
                            <speed>68</speed>
                        </projectile>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_Bullet" Name="Bullet_LazorShotgun_Bond" Abstract="True">
                        <label>Laser Shotgun Pellet</label>
                        <graphicData>
                            <texPath>Projectile/KEP_Laser</texPath>
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>26</damageAmountBase>
                            <armorPenetrationBase>0.24</armorPenetrationBase>
                            <speed>58</speed>
                        </projectile>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_Bullet" Name="Bullet_LazorSniperbullet_Bond" Abstract="True">
                        <label>Lazer Sniper shot</label>
                        <graphicData>
                            <texPath>Projectile/KEP_Laser</texPath>
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>38</damageAmountBase>
                            <armorPenetrationBase>0.42</armorPenetrationBase>
                            <speed>70</speed>
                        </projectile>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_Bullet" Name="Bullet_Laser_Bond" Abstract="True">
                        <label>Small Blast Charge</label>
                        <graphicData>
                            <texPath>Things/Projectile/Bullet_Small</texPath>
                        </graphicData>
                        <projectile>
                            <flyOverhead>false</flyOverhead>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>17</damageAmountBase>
                            <stoppingPower>1</stoppingPower>
                            <speed>50</speed>
                        </projectile>
                    </ThingDef>
                </value>
            </Operation>

            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>Daria40K.MightyPersonaBondForgePatch</modId>
                <key>Daria40K_MightyPersonaBondForgePatch_KEPBlastChargeWeaponryContinued</key>
                <defaultValue>true</defaultValue>

                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationAdd">
                        <xpath>Defs</xpath>
                        <value>
                            <ThingDef ParentName="Gun_LasAssault_Bond">
                                <defName>Gun_LasAssault_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Gun_LasShotgun_Bond">
                                <defName>Gun_LasShotgun_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Gun_LasSniper_Bond">
                                <defName>Gun_LasSniper_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Gun_BlastPistol_Bond">
                                <defName>Gun_BlastPistol_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_LazorAssault_Bond">
                                <defName>Bullet_LazorAssault_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_LazorShotgun_Bond">
                                <defName>Bullet_LazorShotgun_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_LazorSniperbullet_Bond">
                                <defName>Bullet_LazorSniperbullet_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_Laser_Bond">
                                <defName>Bullet_Laser_Bond</defName>
                            </ThingDef>
                        </value>
                    </Operation>
                </caseTrue>
            </Operation>
        </caseTrue>
    </Operation>
</Patch>