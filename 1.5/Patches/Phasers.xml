<?xml version="1.0" encoding="utf-8" ?>
<!--
	===== Phasers =====
-->
<Patch>
	<Operation Class="XmlExtensions.FindMod">
		<mods>
			<li>lambda.phaser</li>
		</mods>
		<packageId>true</packageId>

		<caseTrue>
			<Operation Class="XmlExtensions.PatchOperationAdd">
				<xpath>Defs</xpath>
				<value><ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Lambda_Gun_PhaserRifleLow_Bond" Abstract="True">
    <label>persona Phaser Rifle</label>
    <description>A low energy, standard issue rifle using Phaser technology. It accelerates a beam of particles using a focused laser, in a spred which are normally not particularly lethal. A hit by this beam will 'just' cause significant burns and a lot of pain, as if stung by hundreds of needles and a burning smack in the centre.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
    <techLevel>Spacer</techLevel>
  <graphicData>
      <texPath>Things/Item/Equipment/Phaser/PhaserRifleLow</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <uiIconScale>1.4</uiIconScale>
    <soundInteract>Interact_ChargeRifle</soundInteract>
    <statBases>
      <MarketValue>1100.0</MarketValue>
      <Mass>3.7</Mass>
      <AccuracyTouch>0.825</AccuracyTouch>
      <AccuracyShort>0.935</AccuracyShort>
      <AccuracyMedium>0.99</AccuracyMedium>
      <AccuracyLong>0.935</AccuracyLong>
      <RangedWeapon_Cooldown>0.255</RangedWeapon_Cooldown>
    </statBases>
    <!-- 
   <thingSetMakerTags>
      <li>RewardStandardLowFreq</li>
      <li>RewardStandardQualitySuper</li>
    </thingSetMakerTags>
  -->
    <weaponTags>
      <li>PhaserGun</li>
    </weaponTags>
    <weaponClasses>
      <li>RangedLight</li>
    </weaponClasses>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Lambda_Bullet_PhaserLow_Bond</defaultProjectile>
        <warmupTime>1.5</warmupTime>
        <range>39.9</range>
        <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
        <burstShotCount>1</burstShotCount>
        <soundCast>Lambda_PhaserShot</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <label>stock</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>9.75</power>
        <cooldownTime>1.53</cooldownTime>
      </li>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>7.661</power>
        <cooldownTime>1.275</cooldownTime>
      </li>
    </tools>
  </ThingDef><ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Lambda_Gun_PhaserRifleHigh_Bond" Abstract="True">
    <label>persona Phaser Rifle (Modified)</label>
    <description>A rifle using Phaser technology with invasive and illegal modifications, due to the modifications will the focused beam pierce through the target and often even disintegrate parts of it. It only stings once, but afterward you might be missing an arm.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
    <techLevel>Spacer</techLevel>
  <graphicData>
      <texPath>Things/Item/Equipment/Phaser/PhaserRifleHigh</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <uiIconScale>1.4</uiIconScale>
    <soundInteract>Interact_ChargeRifle</soundInteract>
    <statBases>
      <MarketValue>2750.0</MarketValue>
      <Mass>3.8</Mass>
      <AccuracyTouch>0.77</AccuracyTouch>
      <AccuracyShort>0.88</AccuracyShort>
      <AccuracyMedium>0.99</AccuracyMedium>
      <AccuracyLong>0.825</AccuracyLong>
      <RangedWeapon_Cooldown>0.425</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>PhaserGun</li>
    </weaponTags>
    <weaponClasses>
      <li>RangedLight</li>
    </weaponClasses>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Lambda_Bullet_PhaserHigh_Bond</defaultProjectile>
        <warmupTime>2.1</warmupTime>
        <range>33.9</range>
        <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
        <burstShotCount>1</burstShotCount>
        <soundCast>Lambda_PhaserShot</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>12</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <label>stock</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>9.75</power>
        <cooldownTime>1.53</cooldownTime>
      </li>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>7.661</power>
        <cooldownTime>1.275</cooldownTime>
      </li>
    </tools>
  </ThingDef><ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Lambda_Gun_PhaserRifleHighScatter_Bond" Abstract="True">
    <label>persona Phaser Rifle (Scatter)</label>
    <description>Three modified Phaser Rifles, strapped together with special scatter muzzles. Due to the modifications will the focused beam pierce through the target and often even disintegrate parts of it. It only stings once, but afterward you might be missing an arm. It also needs to be calibrated before each shot, poor shooting skill will result in high scatter.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
    <techLevel>Spacer</techLevel>
  <graphicData>
      <texPath>Things/Item/Equipment/Phaser/PhaserRifleScatter</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    <drawSize>(1.3,1.3)</drawSize>
    </graphicData>
    <uiIconScale>1.4</uiIconScale>
    <soundInteract>Interact_ChargeRifle</soundInteract>
    <statBases>
      <MarketValue>9350.0</MarketValue>
      <Mass>13.8</Mass>
      <AccuracyTouch>0.715</AccuracyTouch>
      <AccuracyShort>0.858</AccuracyShort>
      <AccuracyMedium>0.792</AccuracyMedium>
      <AccuracyLong>0.495</AccuracyLong>
      <RangedWeapon_Cooldown>0.51</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>PhaserGun</li>
    </weaponTags>
    <weaponClasses>
      <li>RangedHeavy</li>    
    </weaponClasses>
  <equippedStatOffsets>
    <MoveSpeed>-0.15</MoveSpeed>
  </equippedStatOffsets>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Lambda_Bullet_PhaserHighSplit_Bond</defaultProjectile>
        <warmupTime>2.5</warmupTime>
        <range>25.9</range>
        <ticksBetweenBurstShots>0</ticksBetweenBurstShots>
        <burstShotCount>9</burstShotCount>
        <soundCast>Lambda_PhaserShot</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>10</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <label>barrel side</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>5.559</power>
        <cooldownTime>1.36</cooldownTime>
      </li>
      <li>
        <label>barrel</label>
        <capacities>
          <li>Blunt</li>
          <li>Poke</li>
        </capacities>
        <power>9.75</power>
        <cooldownTime>2.125</cooldownTime>
      </li>
    </tools>
  </ThingDef><ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Lambda_Gun_PhaserPistolLow_Bond" Abstract="True">
    <label>persona Phaser Pistol</label>
    <description>A low energy, standard issue pistol using Phaser technology. It accelerates a beam of particles using a focused laser, in a spred which are normally not particularly lethal. A hit by this beam will 'just' cause significant burns and a lot of pain, as if stung by hundreds of needles and a burning smack in the centre.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
    <techLevel>Spacer</techLevel>
  <graphicData>
      <texPath>Things/Item/Equipment/Phaser/smallPhaser</texPath>
      <graphicClass>Graphic_Single</graphicClass>
     <drawSize>(0.6,0.6)</drawSize>
    </graphicData>
    <uiIconScale>0.8</uiIconScale>
    <soundInteract>Interact_ChargeRifle</soundInteract>
    <statBases>
      <MarketValue>550.0</MarketValue>
      <Mass>1.5</Mass>
      <AccuracyTouch>0.957</AccuracyTouch>
      <AccuracyShort>0.913</AccuracyShort>
      <AccuracyMedium>0.77</AccuracyMedium>
      <AccuracyLong>0.605</AccuracyLong>
      <RangedWeapon_Cooldown>0.17</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>PhaserGun</li>
    </weaponTags>
    <weaponClasses>
      <li>RangedLight</li>
    </weaponClasses>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Lambda_Bullet_PhaserPistolLow_Bond</defaultProjectile>
        <warmupTime>1.1</warmupTime>
        <range>19.9</range>
        <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
        <burstShotCount>1</burstShotCount>
        <soundCast>Lambda_PhaserShot</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>6</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <label>butt</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>5.559</power>
        <cooldownTime>0.765</cooldownTime>
      </li>
    </tools>
  </ThingDef><ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Lambda_Gun_PhaserPistolHigh_Bond" Abstract="True">
    <label>persona Phaser Pistol (Modified)</label>
    <description>A Pistol using Phaser technology with invasive and illegal modifications, due to the modifications will the focused beam pierce through the target and often even disintegrate parts of it. It only stings once, but afterward you might be missing an arm.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
    <techLevel>Spacer</techLevel>
  <graphicData>
      <texPath>Things/Item/Equipment/Phaser/smallPhaserModified</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    <drawSize>(0.6,0.6)</drawSize>
    </graphicData>
    <uiIconScale>0.8</uiIconScale>
    <soundInteract>Interact_ChargeRifle</soundInteract>
    <statBases>
      <MarketValue>1650.0</MarketValue>
      <Mass>1.9</Mass>
      <AccuracyTouch>0.913</AccuracyTouch>
      <AccuracyShort>0.847</AccuracyShort>
      <AccuracyMedium>0.66</AccuracyMedium>
      <AccuracyLong>0.55</AccuracyLong>
      <RangedWeapon_Cooldown>0.34</RangedWeapon_Cooldown>
    </statBases>
    <weaponTags>
      <li>PhaserGun</li>
    </weaponTags>
    <weaponClasses>
      <li>RangedLight</li>
    </weaponClasses>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <hasStandardCommand>true</hasStandardCommand>
        <defaultProjectile>Lambda_Bullet_PhaserPistolHigh_Bond</defaultProjectile>
        <warmupTime>1.7</warmupTime>
        <range>13.9</range>
        <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
        <burstShotCount>1</burstShotCount>
        <soundCast>Lambda_PhaserShot</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
      </li>
    </verbs>
    <tools>
      <li>
        <label>butt</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>5.559</power>
        <cooldownTime>0.765</cooldownTime>
      </li>
    </tools>
  </ThingDef><ThingDef ParentName="MPBFPM_BaseBullet" Name="Lambda_Bullet_PhaserLow_Bond" Abstract="True">
    <label>low energy phaser beam</label>
     <graphicData>
      <texPath>Things/Item/Equipment/Phaser/PhaserShotLowLong</texPath>
      <shaderType>TransparentPostLight</shaderType>
      <drawSize>1.5</drawSize>
    </graphicData>
    <projectile>
      <damageDef>Lambda_PhaserBeamLow</damageDef>
      <damageAmountBase>5</damageAmountBase>
      <stoppingPower>1.5</stoppingPower>
      <speed>100</speed>
    </projectile>
  <!--
  <modExtensions>
     <li Class="Lambda_PhaserBeamLow.ModExtension_PhaserBeamLow">
        <addHediffChance>0.9</addHediffChance>
        <hediffToAdd>Phaser Burn</hediffToAdd>
     </li>
    </modExtensions>
  <thingClass>Lambda_PhaserBeamLow.Projectile_PhaserBulletLow</thingClass>
  -->
  </ThingDef><ThingDef ParentName="MPBFPM_BaseBullet" Name="Lambda_Bullet_PhaserHigh_Bond" Abstract="True">
    <label>high energy phaser beam</label>
     <graphicData>
      <texPath>Things/Item/Equipment/Phaser/PhaserShotHigh</texPath>
      <shaderType>TransparentPostLight</shaderType>
      <drawSize>1.5</drawSize>
    </graphicData>
    <projectile>
      <damageDef>Lambda_PhaserBeamHigh</damageDef>
      <damageAmountBase>27</damageAmountBase>
      <stoppingPower>1.5</stoppingPower>
      <speed>150</speed>
    </projectile>
  </ThingDef><ThingDef ParentName="MPBFPM_BaseBullet" Name="Lambda_Bullet_PhaserHighSplit_Bond" Abstract="True">
    <label>split high energy phaser beam</label>
     <graphicData>
      <texPath>Things/Item/Equipment/Phaser/PhaserShotHigh</texPath>
      <shaderType>TransparentPostLight</shaderType>
      <drawSize>0.7</drawSize>
    </graphicData>
    <projectile>
      <damageDef>Lambda_PhaserBeamHigh</damageDef>
      <damageAmountBase>7</damageAmountBase>
      <stoppingPower>0.5</stoppingPower>
      <speed>140</speed>
    </projectile>
  </ThingDef><ThingDef ParentName="MPBFPM_BaseBullet" Name="Lambda_Bullet_PhaserPistolLow_Bond" Abstract="True">
    <label>low energy phaser beam</label>
     <graphicData>
      <texPath>Things/Item/Equipment/Phaser/PhaserShotLowLong</texPath>
      <shaderType>TransparentPostLight</shaderType>
      <drawSize>1.1</drawSize>
    </graphicData>
    <projectile>
      <damageDef>Lambda_PhaserPistolBeamLow</damageDef>
      <damageAmountBase>2</damageAmountBase>
      <stoppingPower>0.8</stoppingPower>
      <speed>100</speed>
    </projectile> 
  </ThingDef><ThingDef ParentName="MPBFPM_BaseBullet" Name="Lambda_Bullet_PhaserPistolHigh_Bond" Abstract="True">
    <label>high energy phaser beam</label>
     <graphicData>
      <texPath>Things/Item/Equipment/Phaser/PhaserShotHigh</texPath>
      <shaderType>TransparentPostLight</shaderType>
      <drawSize>1.2</drawSize>
    </graphicData>
    <projectile>
      <damageDef>Lambda_PhaserBeamHigh</damageDef>
      <damageAmountBase>12</damageAmountBase>
      <stoppingPower>0.9</stoppingPower>
      <speed>150</speed>
    </projectile>
  </ThingDef></value>
			</Operation>

			<Operation Class="XmlExtensions.OptionalPatch">
				<modId>Daria40K.MightyPersonaBondForgePatch</modId>
				<key>Daria40K_MightyPersonaBondForgePatch_Phasers</key>
				<defaultValue>true</defaultValue>

				<caseTrue>
					<Operation Class="XmlExtensions.PatchOperationAdd">
						<xpath>Defs</xpath>
						<value><ThingDef ParentName="Lambda_Gun_PhaserRifleLow_Bond"><defName>Lambda_Gun_PhaserRifleLow_Bond</defName></ThingDef><ThingDef ParentName="Lambda_Gun_PhaserRifleHigh_Bond"><defName>Lambda_Gun_PhaserRifleHigh_Bond</defName></ThingDef><ThingDef ParentName="Lambda_Gun_PhaserRifleHighScatter_Bond"><defName>Lambda_Gun_PhaserRifleHighScatter_Bond</defName></ThingDef><ThingDef ParentName="Lambda_Gun_PhaserPistolLow_Bond"><defName>Lambda_Gun_PhaserPistolLow_Bond</defName></ThingDef><ThingDef ParentName="Lambda_Gun_PhaserPistolHigh_Bond"><defName>Lambda_Gun_PhaserPistolHigh_Bond</defName></ThingDef><ThingDef ParentName="Lambda_Bullet_PhaserLow_Bond"><defName>Lambda_Bullet_PhaserLow_Bond</defName></ThingDef><ThingDef ParentName="Lambda_Bullet_PhaserHigh_Bond"><defName>Lambda_Bullet_PhaserHigh_Bond</defName></ThingDef><ThingDef ParentName="Lambda_Bullet_PhaserHighSplit_Bond"><defName>Lambda_Bullet_PhaserHighSplit_Bond</defName></ThingDef><ThingDef ParentName="Lambda_Bullet_PhaserPistolLow_Bond"><defName>Lambda_Bullet_PhaserPistolLow_Bond</defName></ThingDef><ThingDef ParentName="Lambda_Bullet_PhaserPistolHigh_Bond"><defName>Lambda_Bullet_PhaserPistolHigh_Bond</defName></ThingDef></value>
					</Operation>
				</caseTrue>
			</Operation>	  
		</caseTrue>
	</Operation>
</Patch>