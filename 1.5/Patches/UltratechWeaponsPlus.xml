<?xml version="1.0" encoding="utf-8"?>
<!--
	===== Ultratech Weapons Plus =====
-->
<Patch>
    <Operation Class="XmlExtensions.FindMod">
        <mods>
            <li>side1iner.ultratechweaponsplus</li>
        </mods>
        <packageId>true</packageId>

        <caseTrue>
            <Operation Class="XmlExtensions.PatchOperationAdd">
                <xpath>Defs</xpath>
                <value>
                    <ThingDef ParentName="MPBFPM_BaseMeleeWeapon_Sharp_Quality" Name="XPike_Bond" Abstract="True">
                        <label>persona XPike</label>
                        <description>A long, double edged melee weapon powered by an advanced power source.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <graphicData>
                            <texPath>Weapon/XPike</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <techLevel>Spacer</techLevel>
                        <statBases>
                            <Mass>1.8</Mass>
                        </statBases>
                        <equippedAngleOffset>-40</equippedAngleOffset>
                        <weaponTags />
                        <weaponClasses>
                            <li>Ultratech</li>
                        </weaponClasses>
                        <tools>
                            <li>
                                <label>point</label>
                                <capacities>
                                    <li>Stab</li>
                                </capacities>
                                <power>33.292</power>
                                <cooldownTime>1.36</cooldownTime>
                                <armorPenetration>0.66</armorPenetration>
                                <extraMeleeDamages>
                                    <li>
                                        <def>Stun</def>
                                        <amount>35</amount>
                                    </li>
                                </extraMeleeDamages>
                            </li>
                            <li>
                                <label>edge</label>
                                <capacities>
                                    <li>Cut</li>
                                </capacities>
                                <power>40.916</power>
                                <cooldownTime>1.36</cooldownTime>
                                <armorPenetration>0.385</armorPenetration>
                                <extraMeleeDamages>
                                    <li>
                                        <def>Stun</def>
                                        <amount>18</amount>
                                    </li>
                                </extraMeleeDamages>
                            </li>
                        </tools>


                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseMeleeWeapon_Sharp_Quality" Name="XSword_Bond" Abstract="True">
                        <label>persona XSword</label>
                        <description>A razor sharp ultratech sword powered by an advanced energy source.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <graphicData>
                            <texPath>Weapon/XSword</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <techLevel>Spacer</techLevel>
                        <statBases>
                            <Mass>1.05</Mass>
                        </statBases>
                        <equippedAngleOffset>-40</equippedAngleOffset>
                        <weaponTags />
                        <weaponClasses>
                            <li>Ultratech</li>
                        </weaponClasses>
                        <tools>
                            <li>
                                <label>point</label>
                                <capacities>
                                    <li>Stab</li>
                                </capacities>
                                <power>24.472</power>
                                <cooldownTime>1.275</cooldownTime>
                                <armorPenetration>0.44</armorPenetration>
                                <extraMeleeDamages>
                                    <li>
                                        <def>Stun</def>
                                        <amount>30</amount>
                                    </li>
                                </extraMeleeDamages>
                            </li>
                            <li>
                                <label>edge</label>
                                <capacities>
                                    <li>Cut</li>
                                </capacities>
                                <power>37.657</power>
                                <cooldownTime>1.53</cooldownTime>
                                <armorPenetration>0.22</armorPenetration>
                                <extraMeleeDamages>
                                    <li>
                                        <def>Stun</def>
                                        <amount>15</amount>
                                    </li>
                                </extraMeleeDamages>
                            </li>
                        </tools>


                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Gun_XCannon_Bond" Abstract="True">
                        <label>persona XCannon</label>
                        <description>A heavy auto-cannon with lots of firepower and not as much accuracy. The original engineers are so far unknown but rumours indicate the design may be a remain from a legendary group of space explorers lost to the ages.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Weapon/XCannon</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <soundInteract>Interact_ChargeLance</soundInteract>
                        <statBases>
                            <Mass>7</Mass>
                            <AccuracyTouch>0.242</AccuracyTouch>
                            <AccuracyShort>0.385</AccuracyShort>
                            <AccuracyMedium>0.385</AccuracyMedium>
                            <AccuracyLong>0.165</AccuracyLong>
                            <RangedWeapon_Cooldown>3.4</RangedWeapon_Cooldown>
                        </statBases>
                        <weaponTags>
                            <li>SpacerGun</li>
                        </weaponTags>
                        <weaponClasses>
                            <li>RangedHeavy</li>
                            <li>Ultratech</li>
                        </weaponClasses>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_XCannon_Bond</defaultProjectile>
                                <warmupTime>2</warmupTime>
                                <range>40</range>
                                <ticksBetweenBurstShots>8</ticksBetweenBurstShots>
                                <burstShotCount>32</burstShotCount>
                                <soundCast>XCannonSound</soundCast>
                                <soundCastTail>GunTail_Medium</soundCastTail>
                                <muzzleFlashScale>10</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>stock</label>
                                <capacities>
                                    <li>Blunt</li>
                                </capacities>
                                <power>12.866</power>
                                <cooldownTime>2.125</cooldownTime>
                            </li>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>12.866</power>
                                <cooldownTime>2.125</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Gun_XCharge_Bond" Abstract="True">
                        <label>persona XCharge</label>
                        <description>A rebuilt and enchanced version of the traditional charge rifle, firing both faster and more accurate. The rifle is a lot more powerful than the original version. The original engineers are so far unknown but rumours indicate the design may be a remain from a legendary group of space explorers lost to the ages.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Weapon/XCharge</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <soundInteract>Interact_ChargeRifle</soundInteract>
                        <statBases>
                            <Mass>5.2</Mass>
                            <AccuracyTouch>0.825</AccuracyTouch>
                            <AccuracyShort>0.88</AccuracyShort>
                            <AccuracyMedium>0.88</AccuracyMedium>
                            <AccuracyLong>0.88</AccuracyLong>
                            <RangedWeapon_Cooldown>1.275</RangedWeapon_Cooldown>
                        </statBases>
                        <weaponTags>
                            <li>SpacerGun</li>
                        </weaponTags>
                        <weaponClasses>
                            <li>RangedLight</li>
                            <li>Ultratech</li>
                        </weaponClasses>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_XCharge_Bond</defaultProjectile>
                                <warmupTime>0.75</warmupTime>
                                <range>35</range>
                                <ticksBetweenBurstShots>10</ticksBetweenBurstShots>
                                <burstShotCount>5</burstShotCount>
                                <soundCast>XChargeSound</soundCast>
                                <soundCastTail>GunTail_Medium</soundCastTail>
                                <muzzleFlashScale>12</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>stock</label>
                                <capacities>
                                    <li>Blunt</li>
                                </capacities>
                                <power>12.866</power>
                                <cooldownTime>2.125</cooldownTime>
                            </li>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>12.866</power>
                                <cooldownTime>1.87</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Gun_XLance_Bond" Abstract="True">
                        <label>persona XLance</label>
                        <description>A rebuilt and enchanced version of the traditional charge lance. The lance is a lot more powerful than the original version, though it's modified to be stronger over longer distances. The original engineers are so far unknown but rumours indicate the design may be a remain from a legendary group of space explorers lost to the ages.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Weapon/XLance</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <soundInteract>Interact_ChargeLance</soundInteract>
                        <statBases>
                            <Mass>6.5</Mass>
                            <AccuracyTouch>0.77</AccuracyTouch>
                            <AccuracyShort>0.935</AccuracyShort>
                            <AccuracyMedium>0.99</AccuracyMedium>
                            <AccuracyLong>0.935</AccuracyLong>
                            <RangedWeapon_Cooldown>1.913</RangedWeapon_Cooldown>
                        </statBases>
                        <weaponTags>
                            <li>SpacerGun</li>
                        </weaponTags>
                        <weaponClasses>
                            <li>RangedHeavy</li>
                            <li>Ultratech</li>
                        </weaponClasses>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_XLance_Bond</defaultProjectile>
                                <warmupTime>1.1</warmupTime>
                                <range>45</range>
                                <burstShotCount>2</burstShotCount>
                                <soundCast>XLanceSound</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>12</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>stock</label>
                                <capacities>
                                    <li>Blunt</li>
                                </capacities>
                                <power>12.866</power>
                                <cooldownTime>2.125</cooldownTime>
                            </li>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>12.866</power>
                                <cooldownTime>1.87</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Gun_XSMG_Bond" Abstract="True">
                        <label>persona XSMG</label>
                        <description>Lightweight SMG used for close combat. Quick and easy to use, but very limited power over longer distances. The original engineers are so far unknown but rumours indicate the design may be a remain from a legendary group of space explorers lost to the ages.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Weapon/XSMG</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <soundInteract>Interact_ChargeRifle</soundInteract>
                        <statBases>
                            <Mass>2.5</Mass>
                            <AccuracyTouch>0.99</AccuracyTouch>
                            <AccuracyShort>0.825</AccuracyShort>
                            <AccuracyMedium>0.44</AccuracyMedium>
                            <AccuracyLong>0.165</AccuracyLong>
                            <RangedWeapon_Cooldown>0.425</RangedWeapon_Cooldown>
                        </statBases>
                        <weaponTags>
                            <li>SpacerGun</li>
                        </weaponTags>
                        <weaponClasses>
                            <li>RangedLight</li>
                            <li>Ultratech</li>
                        </weaponClasses>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_XSMG_Bond</defaultProjectile>
                                <warmupTime>0.35</warmupTime>
                                <range>20</range>
                                <ticksBetweenBurstShots>6</ticksBetweenBurstShots>
                                <burstShotCount>8</burstShotCount>
                                <soundCast>XSMGSound</soundCast>
                                <soundCastTail>GunTail_Medium</soundCastTail>
                                <muzzleFlashScale>4</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>stock</label>
                                <capacities>
                                    <li>Blunt</li>
                                </capacities>
                                <power>6.612</power>
                                <cooldownTime>1.275</cooldownTime>
                            </li>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>6.612</power>
                                <cooldownTime>1.275</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_BaseHumanMakeableGun" Name="Gun_XSnipe_Bond" Abstract="True">
                        <label>persona XSnipe</label>
                        <description>A long distance sniper rifle. Very powerful and accurate, but the fire rate is low. The original engineers are so far unknown but rumours indicate the design may be a remain from a legendary group of space explorers lost to the ages.\n\nThis weapon has an onboard persona that can bond to only a single person. The wielder and intelligent weapon can synchronize their reflexes and attack with frightening speed, accuracy, and creativity. Once bonded to a wielder, the weapon's persona will refuse to be wielded by anyone else.</description>
                        <techLevel>Spacer</techLevel>
                        <graphicData>
                            <texPath>Weapon/XSnipe</texPath>
                            <graphicClass>Graphic_Single</graphicClass>
                        </graphicData>
                        <soundInteract>Interact_ChargeLance</soundInteract>
                        <statBases>
                            <Mass>6.5</Mass>
                            <AccuracyTouch>0.33</AccuracyTouch>
                            <AccuracyShort>0.55</AccuracyShort>
                            <AccuracyMedium>0.88</AccuracyMedium>
                            <AccuracyLong>0.99</AccuracyLong>
                            <RangedWeapon_Cooldown>4.25</RangedWeapon_Cooldown>
                        </statBases>
                        <weaponTags>
                            <li>SpacerGun</li>
                        </weaponTags>
                        <weaponClasses>
                            <li>RangedHeavy</li>
                            <li>Ultratech</li>
                        </weaponClasses>
                        <verbs>
                            <li>
                                <verbClass>Verb_Shoot</verbClass>
                                <hasStandardCommand>true</hasStandardCommand>
                                <defaultProjectile>Bullet_XSnipe_Bond</defaultProjectile>
                                <warmupTime>2</warmupTime>
                                <range>55</range>
                                <soundCast>XSnipeSound</soundCast>
                                <soundCastTail>GunTail_Heavy</soundCastTail>
                                <muzzleFlashScale>15</muzzleFlashScale>
                            </li>
                        </verbs>
                        <tools>
                            <li>
                                <label>stock</label>
                                <capacities>
                                    <li>Blunt</li>
                                </capacities>
                                <power>12.866</power>
                                <cooldownTime>2.125</cooldownTime>
                            </li>
                            <li>
                                <label>barrel</label>
                                <capacities>
                                    <li>Blunt</li>
                                    <li>Poke</li>
                                </capacities>
                                <power>12.866</power>
                                <cooldownTime>1.87</cooldownTime>
                            </li>
                        </tools>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_Bullet" Name="Bullet_XCannon_Bond" Abstract="True">
                        <label>xcannon shot</label>
                        <graphicData>
                            <texPath>Projectile/XCannon_shot</texPath>
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>15</damageAmountBase>
                            <speed>85</speed>
                        </projectile>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_Bullet" Name="Bullet_XCharge_Bond" Abstract="True">
                        <label>xcharge shot</label>
                        <graphicData>
                            <texPath>Projectile/XCharge_shot</texPath>
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>24</damageAmountBase>
                            <armorPenetrationBase>0.6</armorPenetrationBase>
                            <speed>90</speed>
                        </projectile>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_Bullet" Name="Bullet_XLance_Bond" Abstract="True">
                        <label>xlance shot</label>
                        <graphicData>
                            <texPath>Projectile/XLance_shot</texPath>
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>42</damageAmountBase>
                            <armorPenetrationBase>1.0</armorPenetrationBase>
                            <speed>135</speed>
                        </projectile>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_Bullet" Name="Bullet_XSMG_Bond" Abstract="True">
                        <label>xsmg shot</label>
                        <graphicData>
                            <texPath>Projectile/XSMG_shot</texPath>
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>15</damageAmountBase>
                            <speed>75</speed>
                        </projectile>
                    </ThingDef>
                    <ThingDef ParentName="MPBFPM_Bullet" Name="Bullet_XSnipe_Bond" Abstract="True">
                        <label>xsnipe shot</label>
                        <graphicData>
                            <texPath>Projectile/XSnipe_shot</texPath>
                        </graphicData>
                        <projectile>
                            <damageDef>Bullet</damageDef>
                            <damageAmountBase>52</damageAmountBase>
                            <armorPenetrationBase>0.8</armorPenetrationBase>
                            <speed>150</speed>
                        </projectile>
                    </ThingDef>
                </value>
            </Operation>

            <Operation Class="XmlExtensions.OptionalPatch">
                <modId>Daria40K.MightyPersonaBondForgePatch</modId>
                <key>Daria40K_MightyPersonaBondForgePatch_UltratechWeaponsPlus</key>
                <defaultValue>true</defaultValue>

                <caseTrue>
                    <Operation Class="XmlExtensions.PatchOperationAdd">
                        <xpath>Defs</xpath>
                        <value>
                            <ThingDef ParentName="XPike_Bond">
                                <defName>XPike_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="XSword_Bond">
                                <defName>XSword_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Gun_XCannon_Bond">
                                <defName>Gun_XCannon_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Gun_XCharge_Bond">
                                <defName>Gun_XCharge_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Gun_XLance_Bond">
                                <defName>Gun_XLance_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Gun_XSMG_Bond">
                                <defName>Gun_XSMG_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Gun_XSnipe_Bond">
                                <defName>Gun_XSnipe_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_XCannon_Bond">
                                <defName>Bullet_XCannon_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_XCharge_Bond">
                                <defName>Bullet_XCharge_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_XLance_Bond">
                                <defName>Bullet_XLance_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_XSMG_Bond">
                                <defName>Bullet_XSMG_Bond</defName>
                            </ThingDef>
                            <ThingDef ParentName="Bullet_XSnipe_Bond">
                                <defName>Bullet_XSnipe_Bond</defName>
                            </ThingDef>
                        </value>
                    </Operation>
                </caseTrue>
            </Operation>
        </caseTrue>
    </Operation>
</Patch>