<?xml version="1.0" encoding="utf-8"?>
<!-- ===== Ilya Tech - Core ===== -->
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Ilya Tech - Core</li>
        </mods>

        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>Defs</xpath>
                    <value>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Katalina_Bond" Abstract="True">
                            <label>bond Katalina Tactical Blade</label>
                            <description>Bond an Katalina Tactical Blade.</description>
                            <jobString>Bonding a Katalina Tactical Blade.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Katalina</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Katalina</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Katalina_Bond>1</SU_Katalina_Bond>
                            </products>
                        </RecipeDef>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Sevika_Bond" Abstract="True">
                            <label>bond Sevika Combat Knife</label>
                            <description>Bond an Sevika Combat Knife.</description>
                            <jobString>Bonding a Sevika Combat Knife.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Sevika</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Sevika</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Sevika_Bond>1</SU_Sevika_Bond>
                            </products>
                        </RecipeDef>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Morgante_Bond" Abstract="True">
                            <label>bond Morgante Revolver</label>
                            <description>Bond an Morgante Revolver.</description>
                            <jobString>Bonding a Morgante Revolver.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Morgante</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Morgante</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Morgante_Bond>1</SU_Morgante_Bond>
                            </products>
                        </RecipeDef>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Laviano_Bond" Abstract="True">
                            <label>bond Laviano SMG</label>
                            <description>Bond an Laviano SMG.</description>
                            <jobString>Bonding a Laviano SMG.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Laviano</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Laviano</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Laviano_Bond>1</SU_Laviano_Bond>
                            </products>
                        </RecipeDef>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Laurino_Bond" Abstract="True">
                            <label>bond Laurino MG</label>
                            <description>Bond an Laurino MG.</description>
                            <jobString>Bonding a Laurino MG.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Laurino</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Laurino</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Laurino_Bond>1</SU_Laurino_Bond>
                            </products>
                        </RecipeDef>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Schwalbe_Bond" Abstract="True">
                            <label>bond Schwalbe AR</label>
                            <description>Bond an Schwalbe AR.</description>
                            <jobString>Bonding a Schwalbe AR.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Schwalbe</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Schwalbe</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Schwalbe_Bond>1</SU_Schwalbe_Bond>
                            </products>
                        </RecipeDef>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Gavino_Bond" Abstract="True">
                            <label>bond Gavino Auto-Shotgun</label>
                            <description>Bond an Gavino Auto-Shotgun.</description>
                            <jobString>Bonding a Gavino Auto-Shotgun.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Gavino</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Gavino</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Gavino_Bond>1</SU_Gavino_Bond>
                            </products>
                        </RecipeDef>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Federica_Bond" Abstract="True">
                            <label>bond Federica Marksman Rifle</label>
                            <description>Bond an Federica Marksman Rifle.</description>
                            <jobString>Bonding a Federica Marksman Rifle.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Federica</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Federica</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Federica_Bond>1</SU_Federica_Bond>
                            </products>
                        </RecipeDef>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Usov_Bond" Abstract="True">
                            <label>bond Usov Deagle</label>
                            <description>Bond an Usov Deagle.</description>
                            <jobString>Bonding a Usov Deagle.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Usov</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Usov</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Usov_Bond>1</SU_Usov_Bond>
                            </products>
                        </RecipeDef>
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase" Name="Make_SU_Natasha_Bond" Abstract="True">
                            <label>bond Natasha Javelin</label>
                            <description>Bond an Natasha Javelin.</description>
                            <jobString>Bonding a Natasha Javelin.</jobString>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>SU_Natasha</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>SU_Natasha</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <SU_Natasha_Bond>1</SU_Natasha_Bond>
                            </products>
                        </RecipeDef>
                    </value>
                </li>

                <li Class="PatchOperationFindMod">
                    <mods>
                        <li>XML Extensions</li>
                    </mods>

                    <nomatch Class="PatchOperationAdd">
                        <xpath>Defs</xpath>
                        <value>
                            <!-- Make_SU_Katalina_Bond -->
                            <RecipeDef ParentName="Make_SU_Katalina_Bond">
                                <defName>Make_SU_Katalina_Bond</defName>
                            </RecipeDef>                            <!-- Make_SU_Sevika_Bond -->
                            <RecipeDef ParentName="Make_SU_Sevika_Bond">
                                <defName>Make_SU_Sevika_Bond</defName>
                            </RecipeDef>                            <!-- Make_SU_Morgante_Bond -->
                            <RecipeDef ParentName="Make_SU_Morgante_Bond">
                                <defName>Make_SU_Morgante_Bond</defName>
                            </RecipeDef>                            <!-- Make_SU_Laviano_Bond -->
                            <RecipeDef ParentName="Make_SU_Laviano_Bond">
                                <defName>Make_SU_Laviano_Bond</defName>
                            </RecipeDef>                            <!-- Make_SU_Laurino_Bond -->
                            <RecipeDef ParentName="Make_SU_Laurino_Bond">
                                <defName>Make_SU_Laurino_Bond</defName>
                            </RecipeDef>                            <!-- Make_SU_Schwalbe_Bond -->
                            <RecipeDef ParentName="Make_SU_Schwalbe_Bond">
                                <defName>Make_SU_Schwalbe_Bond</defName>
                            </RecipeDef>                            <!-- Make_SU_Gavino_Bond -->
                            <RecipeDef ParentName="Make_SU_Gavino_Bond">
                                <defName>Make_SU_Gavino_Bond</defName>
                            </RecipeDef>                            <!-- Make_SU_Federica_Bond -->
                            <RecipeDef ParentName="Make_SU_Federica_Bond">
                                <defName>Make_SU_Federica_Bond</defName>
                            </RecipeDef>                            <!-- Make_SU_Usov_Bond -->
                            <RecipeDef ParentName="Make_SU_Usov_Bond">
                                <defName>Make_SU_Usov_Bond</defName>
                            </RecipeDef>                            <!-- Make_SU_Natasha_Bond -->
                            <RecipeDef ParentName="Make_SU_Natasha_Bond">
                                <defName>Make_SU_Natasha_Bond</defName>
                            </RecipeDef>
                        </value>
                    </nomatch>

                    <match Class="PatchOperationSequence">
                        <operations>
                            <li Class="XmlExtensions.OptionalPatch" MayRequire="imranfish.xmlextensions">
                                <modId>Daria40K.MightyPersonaBondForgePatch</modId>
                                <key>Daria40K_MightyPersonaBondForgePatch_IlyaTechCore</key>
                                <defaultValue>true</defaultValue>

                                <caseTrue>
                                    <Operation Class="XmlExtensions.PatchOperationAdd">
                                        <xpath>Defs</xpath>
                                        <value>
                                            <!-- Make_SU_Katalina_Bond -->
                                            <RecipeDef ParentName="Make_SU_Katalina_Bond">
                                                <defName>Make_SU_Katalina_Bond</defName>
                                            </RecipeDef>                                            <!-- Make_SU_Sevika_Bond -->
                                            <RecipeDef ParentName="Make_SU_Sevika_Bond">
                                                <defName>Make_SU_Sevika_Bond</defName>
                                            </RecipeDef>                                            <!-- Make_SU_Morgante_Bond -->
                                            <RecipeDef ParentName="Make_SU_Morgante_Bond">
                                                <defName>Make_SU_Morgante_Bond</defName>
                                            </RecipeDef>                                            <!-- Make_SU_Laviano_Bond -->
                                            <RecipeDef ParentName="Make_SU_Laviano_Bond">
                                                <defName>Make_SU_Laviano_Bond</defName>
                                            </RecipeDef>                                            <!-- Make_SU_Laurino_Bond -->
                                            <RecipeDef ParentName="Make_SU_Laurino_Bond">
                                                <defName>Make_SU_Laurino_Bond</defName>
                                            </RecipeDef>                                            <!-- Make_SU_Schwalbe_Bond -->
                                            <RecipeDef ParentName="Make_SU_Schwalbe_Bond">
                                                <defName>Make_SU_Schwalbe_Bond</defName>
                                            </RecipeDef>                                            <!-- Make_SU_Gavino_Bond -->
                                            <RecipeDef ParentName="Make_SU_Gavino_Bond">
                                                <defName>Make_SU_Gavino_Bond</defName>
                                            </RecipeDef>                                            <!-- Make_SU_Federica_Bond -->
                                            <RecipeDef ParentName="Make_SU_Federica_Bond">
                                                <defName>Make_SU_Federica_Bond</defName>
                                            </RecipeDef>                                            <!-- Make_SU_Usov_Bond -->
                                            <RecipeDef ParentName="Make_SU_Usov_Bond">
                                                <defName>Make_SU_Usov_Bond</defName>
                                            </RecipeDef>                                            <!-- Make_SU_Natasha_Bond -->
                                            <RecipeDef ParentName="Make_SU_Natasha_Bond">
                                                <defName>Make_SU_Natasha_Bond</defName>
                                            </RecipeDef>
                                        </value>
                                    </Operation>
                                </caseTrue>
                            </li>
                        </operations>
                    </match>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>