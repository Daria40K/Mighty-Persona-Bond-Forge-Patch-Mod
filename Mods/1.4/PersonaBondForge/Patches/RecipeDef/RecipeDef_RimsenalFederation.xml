<?xml version="1.0" encoding="utf-8"?>
<!--
    ===== Rimsenal - Federation Faction Pack =====

    == Range
    AD_CrucibleRifle_Bond = persona crucible rifle
    AD_CruciblePistol_Bond = persona crucible pistol
    AD_HeatProjector_Bond = persona heat projector
    AD_CruciblePresicionRifle_Bond = persona crucible precision rifle
    AD_PlasmaCaliver_Bond = persona plasma caliver
    AD_CrucibleCarbine_Bond = persona crucible carbine
    AD_Sentinel_Bond = persona plasma rifle
    AD_AuxPistol_Bond = persona auxiliary pistol

    == Melee
    AD_ConcussionBaton_Bond = persona concussion baton
-->
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Rimsenal - Federation Faction Pack</li>
        </mods>

        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationAdd">
                    <xpath>Defs</xpath>
                    <value>
                        <!-- ===== Range ===== -->
                        <!-- AD_CrucibleRifle_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_AD_CrucibleRifle_Bond</defName>
                            <label>bond crucible rifle</label>
                            <description>Bond an crucible rifle.</description>
                            <jobString>Bonding a crucible rifle.</jobString>
                            <researchPrerequisite>CrucibleTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>AD_CrucibleRifle</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>AD_CrucibleRifle</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <AD_CrucibleRifle_Bond>1</AD_CrucibleRifle_Bond>
                            </products>
                        </RecipeDef>

                        <!-- AD_CruciblePistol_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_AD_CruciblePistol_Bond</defName>
                            <label>bond crucible pistol</label>
                            <description>Bond an crucible pistol.</description>
                            <jobString>Bonding a crucible pistol.</jobString>
                            <researchPrerequisite>CrucibleTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>AD_CruciblePistol</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>AD_CruciblePistol</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <AD_CruciblePistol_Bond>1</AD_CruciblePistol_Bond>
                            </products>
                        </RecipeDef>

                        <!-- AD_HeatProjector_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_AD_HeatProjector_Bond</defName>
                            <label>bond heat projector</label>
                            <description>Bond an heat projector.</description>
                            <jobString>Bonding a heat projector.</jobString>
                            <researchPrerequisite>CrucibleTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>AD_HeatProjector</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>AD_HeatProjector</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <AD_HeatProjector_Bond>1</AD_HeatProjector_Bond>
                            </products>
                        </RecipeDef>

                        <!-- AD_CruciblePresicionRifle_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_AD_CruciblePresicionRifle_Bond</defName>
                            <label>bond crucible precision rifle</label>
                            <description>Bond an crucible precision rifle.</description>
                            <jobString>Bonding a crucible precision rifle.</jobString>
                            <researchPrerequisite>CrucibleTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>AD_CruciblePresicionRifle</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>AD_CruciblePresicionRifle</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <AD_CruciblePresicionRifle_Bond>1</AD_CruciblePresicionRifle_Bond>
                            </products>
                        </RecipeDef>

                        <!-- AD_PlasmaCaliver_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_AD_PlasmaCaliver_Bond</defName>
                            <label>bond plasma caliver</label>
                            <description>Bond an plasma caliver.</description>
                            <jobString>Bonding a plasma caliver.</jobString>
                            <researchPrerequisite>CrucibleTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>AD_PlasmaCaliver</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>AD_PlasmaCaliver</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <AD_PlasmaCaliver_Bond>1</AD_PlasmaCaliver_Bond>
                            </products>
                        </RecipeDef>

                        <!-- AD_CrucibleCarbine_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_AD_CrucibleCarbine_Bond</defName>
                            <label>bond crucible carbine</label>
                            <description>Bond an crucible carbine.</description>
                            <jobString>Bonding a crucible carbine.</jobString>
                            <researchPrerequisite>CrucibleTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>AD_CrucibleCarbine</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>AD_CrucibleCarbine</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <AD_CrucibleCarbine_Bond>1</AD_CrucibleCarbine_Bond>
                            </products>
                        </RecipeDef>

                        <!-- AD_Sentinel_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_AD_Sentinel_Bond</defName>
                            <label>bond plasma rifle</label>
                            <description>Bond an plasma rifle.</description>
                            <jobString>Bonding a plasma rifle.</jobString>
                            <researchPrerequisite>CrucibleTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>AD_Sentinel</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>AD_Sentinel</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <AD_Sentinel_Bond>1</AD_Sentinel_Bond>
                            </products>
                        </RecipeDef>

                        <!-- AD_AuxPistol_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_AD_AuxPistol_Bond</defName>
                            <label>bond auxiliary pistol</label>
                            <description>Bond an auxiliary pistol.</description>
                            <jobString>Bonding a auxiliary pistol.</jobString>
                            <researchPrerequisite>CrucibleTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>AD_AuxPistol</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>AD_AuxPistol</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <AD_AuxPistol_Bond>1</AD_AuxPistol_Bond>
                            </products>
                        </RecipeDef>

                        <!-- ===== Melee ===== -->
                        <!-- AD_ConcussionBaton_Bond -->
                        <RecipeDef ParentName="MPBFPM_RecipeDefBase">
                            <defName>Make_AD_ConcussionBaton_Bond</defName>
                            <label>bond concussion baton</label>
                            <description>Bond an concussion baton.</description>
                            <jobString>Bonding a concussion baton.</jobString>
                            <researchPrerequisite>CrucibleTech</researchPrerequisite>
                            <ingredients>
                                <li>
                                    <filter>
                                        <thingDefs>
                                            <li>AD_ConcussionBaton</li>
                                        </thingDefs>
                                    </filter>
                                    <count>1</count>
                                </li>
                            </ingredients>
                            <fixedIngredientFilter>
                                <thingDefs>
                                    <li>AD_ConcussionBaton</li>
                                </thingDefs>
                            </fixedIngredientFilter>
                            <products>
                                <AD_ConcussionBaton_Bond>1</AD_ConcussionBaton_Bond>
                            </products>
                        </RecipeDef>
                    </value>
                </li>

                <li Class="XmlExtensions.OptionalPatch" MayRequire="imranfish.xmlextensions">
                    <modId>Daria40K.MightyPersonaBondForgePatch</modId>
                    <key>Daria40K_MightyPersonaBondForgePatch_RimsenalFederationFactionPack</key>
                    <defaultValue>true</defaultValue>
                    <caseFalse>
                        <!-- AD_CrucibleRifle_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_AD_CrucibleRifle_Bond"]</xpath>
                        </Operation>

                        <!-- AD_CruciblePistol_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_AD_CruciblePistol_Bond"]</xpath>
                        </Operation>

                        <!-- AD_HeatProjector_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_AD_HeatProjector_Bond"]</xpath>
                        </Operation>

                        <!-- AD_CruciblePresicionRifle_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_AD_CruciblePresicionRifle_Bond"]</xpath>
                        </Operation>

                        <!-- AD_PlasmaCaliver_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_AD_PlasmaCaliver_Bond"]</xpath>
                        </Operation>

                        <!-- AD_CrucibleCarbine_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_AD_CrucibleCarbine_Bond"]</xpath>
                        </Operation>

                        <!-- AD_Sentinel_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_AD_Sentinel_Bond"]</xpath>
                        </Operation>

                        <!-- AD_AuxPistol_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_AD_AuxPistol_Bond"]</xpath>
                        </Operation>

                        <!-- AD_ConcussionBaton_Bond -->
                        <Operation Class="XmlExtensions.PatchOperationRemove">
                            <xpath>Defs/RecipeDef[defName="Make_AD_ConcussionBaton_Bond"]</xpath>
                        </Operation>
                    </caseFalse>
                </li>
            </operations>
        </match>
    </Operation>
</Patch>
