<?xml version="1.0" encoding="utf-8"?>
<!--
	===== Impact Weaponry =====
-->
<Patch>
	<Operation Class="XmlExtensions.FindMod">
		<mods>
			<li>detvisor.impactweaponry</li>
		</mods>
		<packageId>true</packageId>

		<caseTrue>
			<Operation Class="XmlExtensions.PatchOperationAdd">
				<xpath>Defs</xpath>
				<value>
					<RecipeDef ParentName="MPBFPM_OERecipeDefBase" Name="Make_OE_DV_Chainsword_Bond" Abstract="True">
						<label>bond chainsword</label>
						<description>Bond an chainsword.</description>
						<jobString>Bonding a chainsword.</jobString>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_Chainsword</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_Chainsword</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ChainswordBladelink>1</DV_ChainswordBladelink>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OEResetRecipeDefBase" Name="Make_OE_DV_Chainsword_Bond_Reset" Abstract="True">
						<label>Reset chainsword</label>
						<description>Reset a chainsword.</description>
						<jobString>Resetting a chainsword.</jobString>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ChainswordBladelink</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ChainswordBladelink</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ChainswordBladelink>1</DV_ChainswordBladelink>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OERecipeDefBase" Name="Make_OE_DV_ImpactRifle_Bond" Abstract="True">
						<label>bond impact rifle</label>
						<description>Bond an impact rifle.</description>
						<jobString>Bonding a impact rifle.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactRifle</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactRifle</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactRifle_Bond>1</DV_ImpactRifle_Bond>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OEResetRecipeDefBase" Name="Make_OE_DV_ImpactRifle_Bond_Reset" Abstract="True">
						<label>Reset impact rifle</label>
						<description>Reset a impact rifle.</description>
						<jobString>Resetting a impact rifle.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactRifle_Bond</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactRifle_Bond</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactRifle_Bond>1</DV_ImpactRifle_Bond>
						</products>
					</RecipeDef>
					<RecipeDef MayRequire="smartkar.athenaframework" ParentName="MPBFPM_OERecipeDefBase" Name="Make_OE_DV_ImpactSlugger_Bond" Abstract="True">
						<label>bond impact slugger</label>
						<description>Bond an impact slugger.</description>
						<jobString>Bonding a impact slugger.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactSlugger</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactSlugger</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactSlugger_Bond>1</DV_ImpactSlugger_Bond>
						</products>
					</RecipeDef>
					<RecipeDef MayRequire="smartkar.athenaframework" ParentName="MPBFPM_OEResetRecipeDefBase" Name="Make_OE_DV_ImpactSlugger_Bond_Reset" Abstract="True">
						<label>Reset impact slugger</label>
						<description>Reset a impact slugger.</description>
						<jobString>Resetting a impact slugger.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactSlugger_Bond</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactSlugger_Bond</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactSlugger_Bond>1</DV_ImpactSlugger_Bond>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OERecipeDefBase" Name="Make_OE_DV_ImpactStubber_Bond" Abstract="True">
						<label>bond impact stubber</label>
						<description>Bond an impact stubber.</description>
						<jobString>Bonding a impact stubber.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactStubber</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactStubber</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactStubber_Bond>1</DV_ImpactStubber_Bond>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OEResetRecipeDefBase" Name="Make_OE_DV_ImpactStubber_Bond_Reset" Abstract="True">
						<label>Reset impact stubber</label>
						<description>Reset a impact stubber.</description>
						<jobString>Resetting a impact stubber.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactStubber_Bond</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactStubber_Bond</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactStubber_Bond>1</DV_ImpactStubber_Bond>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OERecipeDefBase" Name="Make_OE_DV_ImpactCannon_Bond" Abstract="True">
						<label>bond impact cannon</label>
						<description>Bond an impact cannon.</description>
						<jobString>Bonding a impact cannon.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactCannon</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactCannon</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactCannon_Bond>1</DV_ImpactCannon_Bond>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OEResetRecipeDefBase" Name="Make_OE_DV_ImpactCannon_Bond_Reset" Abstract="True">
						<label>Reset impact cannon</label>
						<description>Reset a impact cannon.</description>
						<jobString>Resetting a impact cannon.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactCannon_Bond</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactCannon_Bond</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactCannon_Bond>1</DV_ImpactCannon_Bond>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OERecipeDefBase" Name="Make_OE_DV_ImpactSlinger_Bond" Abstract="True">
						<label>bond impact Slinger</label>
						<description>Bond an impact Slinger.</description>
						<jobString>Bonding a impact Slinger.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactSlinger</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactSlinger</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactSlinger_Bond>1</DV_ImpactSlinger_Bond>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OEResetRecipeDefBase" Name="Make_OE_DV_ImpactSlinger_Bond_Reset" Abstract="True">
						<label>Reset impact Slinger</label>
						<description>Reset a impact Slinger.</description>
						<jobString>Resetting a impact Slinger.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactSlinger_Bond</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactSlinger_Bond</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactSlinger_Bond>1</DV_ImpactSlinger_Bond>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OERecipeDefBase" Name="Make_OE_DV_ImpactSniper_Bond" Abstract="True">
						<label>bond impact sniper</label>
						<description>Bond an impact sniper.</description>
						<jobString>Bonding a impact sniper.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactSniper</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactSniper</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactSniper_Bond>1</DV_ImpactSniper_Bond>
						</products>
					</RecipeDef>
					<RecipeDef ParentName="MPBFPM_OEResetRecipeDefBase" Name="Make_OE_DV_ImpactSniper_Bond_Reset" Abstract="True">
						<label>Reset impact sniper</label>
						<description>Reset a impact sniper.</description>
						<jobString>Resetting a impact sniper.</jobString>
						<researchPrerequisites>
							<li>DV_ImpactShot</li>
						</researchPrerequisites>
						<ingredients>
							<li>
								<filter>
									<thingDefs>
										<li>DV_ImpactSniper_Bond</li>
									</thingDefs>
								</filter>
								<count>1</count>
							</li>
						</ingredients>
						<fixedIngredientFilter>
							<thingDefs>
								<li>DV_ImpactSniper_Bond</li>
							</thingDefs>
						</fixedIngredientFilter>
						<products>
							<DV_ImpactSniper_Bond>1</DV_ImpactSniper_Bond>
						</products>
					</RecipeDef>
				</value>
			</Operation>

			<Operation Class="XmlExtensions.OptionalPatch">
				<modId>Daria40K.MightyPersonaBondForgePatch</modId>
				<key>Daria40K_MightyPersonaBondForgePatch_ImpactWeaponry</key>
				<defaultValue>true</defaultValue>

				<caseTrue>
					<Operation Class="XmlExtensions.OptionalPatch">
						<modId>Daria40K.MightyPersonaBondForgePatch</modId>
						<key>Daria40K_MightyPersonaBondForgePatch_OE_ImpactWeaponry</key>
						<defaultValue>true</defaultValue>

						<caseTrue>
							<Operation Class="XmlExtensions.OptionalPatch">
								<modId>Daria40K.MightyPersonaBondForgePatch</modId>
								<key>Daria40K_MightyPersonaBondForgePatch_DisableObsidiaExpansion</key>
								<defaultValue>false</defaultValue>

								<caseFalse>
									<Operation Class="XmlExtensions.PatchOperationAdd">
										<xpath>Defs</xpath>
										<value>
											<RecipeDef ParentName="Make_OE_DV_Chainsword_Bond">
												<defName>Make_OE_DV_Chainsword_Bond</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_Chainsword_Bond_Reset">
												<defName>Make_OE_DV_Chainsword_Bond_Reset</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactRifle_Bond">
												<defName>Make_OE_DV_ImpactRifle_Bond</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactRifle_Bond_Reset">
												<defName>Make_OE_DV_ImpactRifle_Bond_Reset</defName>
											</RecipeDef>
											<RecipeDef MayRequire="smartkar.athenaframework" ParentName="Make_OE_DV_ImpactSlugger_Bond">
												<defName>Make_OE_DV_ImpactSlugger_Bond</defName>
											</RecipeDef>
											<RecipeDef MayRequire="smartkar.athenaframework" ParentName="Make_OE_DV_ImpactSlugger_Bond_Reset">
												<defName>Make_OE_DV_ImpactSlugger_Bond_Reset</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactStubber_Bond">
												<defName>Make_OE_DV_ImpactStubber_Bond</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactStubber_Bond_Reset">
												<defName>Make_OE_DV_ImpactStubber_Bond_Reset</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactCannon_Bond">
												<defName>Make_OE_DV_ImpactCannon_Bond</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactCannon_Bond_Reset">
												<defName>Make_OE_DV_ImpactCannon_Bond_Reset</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactSlinger_Bond">
												<defName>Make_OE_DV_ImpactSlinger_Bond</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactSlinger_Bond_Reset">
												<defName>Make_OE_DV_ImpactSlinger_Bond_Reset</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactSniper_Bond">
												<defName>Make_OE_DV_ImpactSniper_Bond</defName>
											</RecipeDef>
											<RecipeDef ParentName="Make_OE_DV_ImpactSniper_Bond_Reset">
												<defName>Make_OE_DV_ImpactSniper_Bond_Reset</defName>
											</RecipeDef>
										</value>
									</Operation>
								</caseFalse>
							</Operation>
						</caseTrue>
					</Operation>
				</caseTrue>
			</Operation>

			<Operation Class="XmlExtensions.FindMod">
				<mods>
					<li>oskarpotocki.vfe.pirates</li>
				</mods>
				<packageId>true</packageId>

				<caseTrue>
					<Operation Class="XmlExtensions.PatchOperationAdd">
						<xpath>Defs</xpath>
						<value>
							<RecipeDef ParentName="MPBFPM_OERecipeDefBase" Name="Make_OE_DV_WarcasketGun_ImpactBolter_Bond" Abstract="True">
								<label>bond warcasket impact bolter</label>
								<description>Bond an warcasket impact bolter.</description>
								<jobString>Bonding a warcasket impact bolter.</jobString>
								<ingredients>
									<li>
										<filter>
											<thingDefs>
												<li>DV_WarcasketGun_ImpactBolter</li>
											</thingDefs>
										</filter>
										<count>1</count>
									</li>
								</ingredients>
								<fixedIngredientFilter>
									<thingDefs>
										<li>DV_WarcasketGun_ImpactBolter</li>
									</thingDefs>
								</fixedIngredientFilter>
								<products>
									<DV_WarcasketGun_ImpactBolter_Bond>1</DV_WarcasketGun_ImpactBolter_Bond>
								</products>
							</RecipeDef>
							<RecipeDef ParentName="MPBFPM_OEResetRecipeDefBase" Name="Make_OE_DV_WarcasketGun_ImpactBolter_Bond_Reset" Abstract="True">
								<label>Reset warcasket impact bolter</label>
								<description>Reset a warcasket impact bolter.</description>
								<jobString>Resetting a warcasket impact bolter.</jobString>
								<ingredients>
									<li>
										<filter>
											<thingDefs>
												<li>DV_WarcasketGun_ImpactBolter_Bond</li>
											</thingDefs>
										</filter>
										<count>1</count>
									</li>
								</ingredients>
								<fixedIngredientFilter>
									<thingDefs>
										<li>DV_WarcasketGun_ImpactBolter_Bond</li>
									</thingDefs>
								</fixedIngredientFilter>
								<products>
									<DV_WarcasketGun_ImpactBolter_Bond>1</DV_WarcasketGun_ImpactBolter_Bond>
								</products>
							</RecipeDef>
						</value>
					</Operation>

					<Operation Class="XmlExtensions.OptionalPatch">
						<modId>Daria40K.MightyPersonaBondForgePatch</modId>
						<key>Daria40K_MightyPersonaBondForgePatch_ImpactWeaponry</key>
						<defaultValue>true</defaultValue>

						<caseTrue>
							<Operation Class="XmlExtensions.OptionalPatch">
								<modId>Daria40K.MightyPersonaBondForgePatch</modId>
								<key>Daria40K_MightyPersonaBondForgePatch_OE_ImpactWeaponry</key>
								<defaultValue>true</defaultValue>

								<caseTrue>
									<Operation Class="XmlExtensions.OptionalPatch">
										<modId>Daria40K.MightyPersonaBondForgePatch</modId>
										<key>Daria40K_MightyPersonaBondForgePatch_VanillaFactionsExpandedPirates</key>
										<defaultValue>true</defaultValue>

										<caseTrue>
											<Operation Class="XmlExtensions.OptionalPatch">
												<modId>Daria40K.MightyPersonaBondForgePatch</modId>
												<key>Daria40K_MightyPersonaBondForgePatch_OE_VanillaFactionsExpandedPirates</key>
												<defaultValue>true</defaultValue>

												<caseTrue>
													<Operation Class="XmlExtensions.OptionalPatch">
														<modId>Daria40K.MightyPersonaBondForgePatch</modId>
														<key>Daria40K_MightyPersonaBondForgePatch_DisableObsidiaExpansion</key>
														<defaultValue>false</defaultValue>

														<caseFalse>
															<Operation Class="XmlExtensions.PatchOperationAdd">
																<xpath>Defs</xpath>
																<value>
																	<RecipeDef ParentName="Make_OE_DV_WarcasketGun_ImpactBolter_Bond">
																		<defName>Make_OE_DV_WarcasketGun_ImpactBolter_Bond</defName>
																	</RecipeDef>
																	<RecipeDef ParentName="Make_OE_DV_WarcasketGun_ImpactBolter_Bond_Reset">
																		<defName>Make_OE_DV_WarcasketGun_ImpactBolter_Bond_Reset</defName>
																	</RecipeDef>
																</value>
															</Operation>
														</caseFalse>
													</Operation>
												</caseTrue>
											</Operation>
										</caseTrue>
									</Operation>
								</caseTrue>
							</Operation>
						</caseTrue>
					</Operation>
				</caseTrue>
			</Operation>
		</caseTrue>
	</Operation>
</Patch>